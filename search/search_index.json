{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Documenta\u00e7\u00e3o Por meio desta plataforma, oferecemos uma estrutura computacional apta para disseminar o conhecimento acumulado sobre o bioma Cerrado, com informa\u00e7\u00f5es confi\u00e1veis sobre uso do solo, biodiversidade e socioeconomia, na forma de mapas, gr\u00e1ficos e textos, al\u00e9m de ferramentas online para subsidiar pol\u00edticas p\u00fablicas e programas de conserva\u00e7\u00e3o neste rico e amea\u00e7ado ecossistema. Esta \u00e9 uma iniciativa do Critical Ecosystem Partnership Fund (CEPF - Cerrado) , Instituto Internacional de Educa\u00e7\u00e3o do Brasil (IEB) e do Laborat\u00f3rio de Processamento de Images e Geoprocessamento da Universidade Federal de Goi\u00e1s (LAPIG/UFG) da Universidade Federal de Goi\u00e1s (UFG) .","title":"HOME"},{"location":"index.html#documentacao","text":"Por meio desta plataforma, oferecemos uma estrutura computacional apta para disseminar o conhecimento acumulado sobre o bioma Cerrado, com informa\u00e7\u00f5es confi\u00e1veis sobre uso do solo, biodiversidade e socioeconomia, na forma de mapas, gr\u00e1ficos e textos, al\u00e9m de ferramentas online para subsidiar pol\u00edticas p\u00fablicas e programas de conserva\u00e7\u00e3o neste rico e amea\u00e7ado ecossistema. Esta \u00e9 uma iniciativa do Critical Ecosystem Partnership Fund (CEPF - Cerrado) , Instituto Internacional de Educa\u00e7\u00e3o do Brasil (IEB) e do Laborat\u00f3rio de Processamento de Images e Geoprocessamento da Universidade Federal de Goi\u00e1s (LAPIG/UFG) da Universidade Federal de Goi\u00e1s (UFG) .","title":"Documenta\u00e7\u00e3o"},{"location":"01-guia_dados_geograficos.html","text":"Dados Geogr\u00e1ficos Uso do Solo Dado Descri\u00e7\u00e3o Data Escala Fonte Mapa de Cobertura e Uso do Solo do Brasil - Mapbiomas O Projeto de Mapeamento Anual da Cobertura e Uso do Solo do Brasil \u00e9 uma iniciativa que envolve uma rede colaborativa com especialistas nos biomas, usos da terra, sensoriamento remoto, SIG e ci\u00eancia da computa\u00e7\u00e3o. S\u00e3o utilizadas tecnicas envolvendo processamento em nuvem e classificadores automatizados desenvolvidos e operados a partir da plataforma Google Earth Engine para gerar uma s\u00e9rie hist\u00f3rica de mapas anuais de cobertura e uso da terra do Brasil. 1985 \u00e0 2019, Cole\u00e7\u00e3o 5. 30 metros Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. Mapeamento do Uso e Cobertura Vegetal do Cerrado \u2013 TerraClass Cerrado Mapeamento do Uso e Cobertura Vegetal do Cerrado - TerraClass Cerrado, utiliza como base de mapeamento 118 cenas do sat\u00e9lite Landsat 8, sensor Operational Land Imager ( OLI), ano de 2013, que recobrem todo o bioma. A \u00e1rea m\u00ednima mape\u00e1vel \u00e9 de 6,25 hectares. 2013 1:250.000 UFG, IBAMA CSR, INPE OBT e CRA, EMBRAPA MONITORAMENTO POR SAT\u00c9LITE, EMBRAPA INFORM\u00c1TICA AGROPECU\u00c1RIA, UFU. Programa conduzido pelo Minist\u00e9rio de Meio Ambiente (MMA), com recursos financeiros oriundos do Global Environment Facility (GEF) por meio do Banco Mundial e do Fundo Brasileiro para a Biodiversidade (Funbio). Para acessar a publica\u00e7\u00e3o completa do projeto, clique aqui! Mapeamento do Uso e Cobertura Vegetal do Cerrado - PROBIO Mapeamento da cobertura vegetal do bioma Cerrado - PROBIO utiliza como base de mapeamento 121 cenas do sat\u00e9lite Landsat ETM+, da esta\u00e7\u00e3o seca do ano de 2002. 2002 1:250.000 Projeto de Conserva\u00e7\u00e3o e Utiliza\u00e7\u00e3o Sustent\u00e1vel da Diversidade Biol\u00f3gica Brasileira - PROBIO-MMA Ecorregi\u00f5es do Cerrado Divis\u00e3o do bioma Cerrado em regi\u00f5es ecol\u00f3gicas distintas. 2019 1:5000.000 Sano, E. E., Rodrigues, A. A., Martins, E. S., Bettiol, G. M., Bustamante, M. M., Bezerra, A. S., Couto Jr., A. F., Vasconcelos, V., Sch\u00fcler, J., Bolfe, E. L. 2019. Cerrado ecorregions: A spatial framework to assess and prioritize Brazilian savanna environmentak diversity for conservation. Journal of environmental management, 232, 818-828. Atrativos Tur\u00edsticos Kalunga Localiza\u00e7\u00e3o dos atrativos tur\u00edsticos no S\u00edtio Hist\u00f3rico e Patrim\u00f4nio Cultural Kalunga. 2020 100m Associa\u00e7\u00e3o Quilombo Kalunga Atrativos Tur\u00edsticos do V\u00e3o do Paran\u00e3 Localiza\u00e7\u00e3o dos atrativos tur\u00edsticos na regi\u00e3o do V\u00e3o do Paran\u00e3 no nordeste de Goi\u00e1s. 2019 N\u00e3o se aplica Instituto \u00c1gua e Terra Risco Ecol\u00f3gico de contamina\u00e7\u00e3o de aqu\u00edferos Dados relativos ao risco ecol\u00f3gico de contamina\u00e7\u00e3o de aqu\u00edferos do Zoneamento Ecol\u00f3gico-Econ\u00f4mico do Distrito Federal para a gest\u00e3o de risco sobre contamina\u00e7\u00e3o de aqu\u00edferos. O risco de contamina\u00e7\u00e3o de um aqu\u00edfero diz respeito ao seu grau de prote\u00e7\u00e3o natural a amea\u00e7as potenciais de contamina\u00e7\u00e3o (Foster & Hirata, 1988). Este risco \u00e9 pr\u00f3prio de cada aqu\u00edfero e depende de dois fatores principais: a profundidade das \u00e1guas subterr\u00e2neas e do tipo de aqu\u00edfero no tocante ao confinamento e litologia. 2017 N\u00e3o se aplica Secretaria de Estado do Meio Ambiente do Distrito Federal Risco ecol\u00f3gico de perda de cerrado nativo Dados relativos ao risco de perda de remanescentes de cerrado nativo no Distrito Federal para a gest\u00e3o de risco sobre os fragmentos de vegeta\u00e7\u00e3o nativa. O mapa \u00e9 baseado no mapeamento de uso e cobertura vegetal de 2009, com atualiza\u00e7\u00f5es em 2014 pelo Instituto Bras\u00edlia Ambiental (IBRAM) e em 2016 pela Coordena\u00e7\u00e3o Geral T\u00e9cnica do ZEE-DF. 2017 N\u00e3o se aplica Secretaria de Estado do Meio Ambiente do Distrito Federal Risco ecol\u00f3gico de perda de capacidade de recarga dos aqu\u00edferos Dados relativos \u00e0 taxa de infiltra\u00e7\u00e3o de \u00e1gua nos aqu\u00edferos do Distrito Federal para a gest\u00e3o de riscos sobre a perda da capacidade de recarga de aqu\u00edferos. 2017 N\u00e3o se aplica Secretaria de Estado do Meio Ambiente do Distrito Federal Agropecu\u00e1ria Dado Descri\u00e7\u00e3o Data Escala Fonte Agricultura - Agrosat\u00e9lite Din\u00e2mica da expans\u00e3o da \u00e1rea plantada com culturas anuais no Bioma Cerrado. 2001; 2007; 2014 1:250.000 Agrosat\u00e9lite Geotecnologia Aplicada, Funda\u00e7\u00e3o Gordon and Betty Moore (Financiadores) \u00c1reas de Pastagens do Brasil Mapeamento anual das pastagens brasileiras, realizado atrav\u00e9s do uso de s\u00e9ries de dados Landsat de 1985 a 2018. Utilizando abordagens de classifica\u00e7\u00e3o supervisionada (Random Forest) atrav\u00e9s da plataforma Earth Engine da Google. De 1985 a 2018. 30 metros. Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento - Lapig (gera\u00e7\u00e3o do dado). Projeto de Mapeamento Anual da Cobertura e Uso do Solo do Brasil - MapBiomas (viabilizador). Ind\u00edcios de degrada\u00e7\u00e3o das pastagens brasileiras Mapeamento da qualidade de pastagens, gerado pelo Lapig, onde foram analisados os dados de pastagens pixel a pixel para o per\u00edodo de 2011 a 2016, por meio de an\u00e1lise de tend\u00eancias em anomalias acumuladas. A an\u00e1lise foi baseado em dados satelit\u00e1rios (NDVI/MOD13Q1), e avalia perdas ou ganho em produtividade. As \u00e1reas com tend\u00eancia significativas de perda em produtividade (p < 0.05) foram consideradas \u00e1reas com ind\u00edcios de degrada\u00e7\u00e3o. 2017 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento - Lapig Rebanho Bovino em Unidades Animal (UA) C\u00e1lculo realizado considerando a composi\u00e7\u00e3o do rebanho para o censo agropecu\u00e1rio. Para os anos de 1986 a 1999, utilizou-se os dados do censo agropecu\u00e1rio de 1996. Para os anos de 2000 a 2018. utilizou-se os dados do censo agropecu\u00e1rio de 2006. Sendo que uma Unidade Animal (UA), equivale a um animal de 450 kg vivo. 1985 \u00e1 2018 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento - Lapig (gera\u00e7\u00e3o do dado). Produ\u00e7\u00e3o de Leite por Munic\u00edpios do Brasil Quantidade de Leite produzido por munic\u00edpios do Brasil, em Litros, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa da Pecu\u00e1ria Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Algod\u00e3o por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de algod\u00e3o em caro\u00e7o por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Cana-de-a\u00e7\u00facar por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de cana-de-a\u00e7\u00facar por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Milho por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de milho por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Soja por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de soja por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE Produ\u00e7\u00e3o de Carv\u00e3o vegetal por Munic\u00edpios do Brasil Quantidade de carv\u00e3o vegetal produzido por munic\u00edpios do brasil, em Toneladas, no per\u00edodo de 2000 a 2019, conforme dados da Produ\u00e7\u00e3o de Extra\u00e7\u00e3o Vegetal e da Silvicultura. 2000 a 2019 1:250.000 SIDRA / IBGE Produ\u00e7\u00e3o de Lenha por Munic\u00edpios do Brasil Quantidade de Lenha produzida por munic\u00edpios do brasil, em Metros C\u00fabicos, no per\u00edodo de 2000 a 2019, conforme dados da Produ\u00e7\u00e3o de Extra\u00e7\u00e3o Vegetal e da Silvicultura. 2000 a 2019 1:250.000 SIDRA / IBGE Produ\u00e7\u00e3o de Madeira por Munic\u00edpios do Brasil Quantidade de Madeira produzida por munic\u00edpios do brasil, em Metros C\u00fabicos, no per\u00edodo de 2000 a 2019, conforme dados da Produ\u00e7\u00e3o de Extra\u00e7\u00e3o Vegetal e da Silvicultura. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas Especiais Dado Descri\u00e7\u00e3o Data Escala Fonte Assentamentos Terras Ind\u00edgenas Terras Privadas CAR Unidades de Planejamento H\u00eddrico Biodiversidade Dado Descri\u00e7\u00e3o Data Escala Fonte \u00c1reas-chave de Biodiversidade - KBAs \u00c1reas Importantes para Conserva\u00e7\u00e3o das Aves \u00c1reas cr\u00edticas para as aves e a biodiversidade em geral. Faz parte da estrat\u00e9gia mundial da BirdLife International. Corredores Priorit\u00e1rios CEPF Unidades de Conserva\u00e7\u00e3o Integral Faveiro de Wilson Registros de ocorr\u00eancia do faveiro-de-wilson na regi\u00e3o central de Minas Gerais. Ela \u00e9 end\u00eamica desta regi\u00e3o e h\u00e1 16 anos o PROGRAMA DE CONSERVA\u00c7\u00c3O DO FAVEIRO-DE-WILSON trabalha para a conserva\u00e7\u00e3o desta esp\u00e9cie. Estes pontos foram registrados nos trabalhos de campo, usando um GPS Garmin GPSMap posicionado junto ao tronco da \u00e1rvore, se tratando de dados bem precisos. 2014 N\u00e3o se aplica PROGRAMA DE CONSERVA\u00c7\u00c3O DO FAVEIRO-DE-WILSON Fauna - SIBBR Compila\u00e7\u00e3o de dados e informa\u00e7\u00f5es sobre a biodiversidade no Cerrado desenvolvida sob a coordena\u00e7\u00e3o do Minist\u00e9rio da Ci\u00eancia e Tecnologia (MCTI) N\u00e3o se aplica N\u00e3o se aplica Sistema de Informa\u00e7\u00e3o sobre a Biodiversidade Brasileira (SIBBR) Flora - SIBBR Compila\u00e7\u00e3o de dados e informa\u00e7\u00f5es sobre a biodiversidade no Cerrado desenvolvida sob a coordena\u00e7\u00e3o do Minist\u00e9rio da Ci\u00eancia e Tecnologia (MCTI) N\u00e3o se aplica N\u00e3o se aplica Sistema de Informa\u00e7\u00e3o sobre a Biodiversidade Brasileira (SIBBR) Reserva da Biosfera Revis\u00e3o dos Limites da Reserva da Biosfera do Cerrado, verificando sobreposi\u00e7\u00f5es, conflitos e prioridades, promovendo ajustes e incorpora\u00e7\u00f5es necess\u00e1rias para melhor contemplar a conserva\u00e7\u00e3o do Bioma Cerrado. 2018 1:10.000 Greentec Tecnologia Ambiental Avistamento de Pato Mergulh\u00e3o Pontos de avistamento da esp\u00e9cie end\u00eamica amea\u00e7ada de extin\u00e7\u00e3o Pato Mergulh\u00e3o. 2019 N\u00e3o se aplica Instituto Amada Terra Desmatamentos / Queimadas Dado Descri\u00e7\u00e3o Data Escala Fonte Monitoramento do Desmatamento no Cerrado Brasileiro por Sat\u00e9lite \u00c1rea desmatada a partir de 2000 discretizadas em uma s\u00e9ria hist\u00f3rica bienal para o per\u00edodo de 2000 a 2012, e anual para os anos de 2013 a 2018. O mapeamento utiliza imagens do sat\u00e9lite Landsat ou similares para registrar e quantificar as \u00e1reas desmatadas maiores que 1 hectare. O PRODES considera como desmatamento a remo\u00e7\u00e3o completa da cobertura florestal prim\u00e1ria por corte raso, independentemente da futura utiliza\u00e7\u00e3o destas \u00e1reas Bienal de 2000 a 2012, e anual de 2013 a 2018. 1:250.000 Programa conduzido pelo Minist\u00e9rio de Meio Ambiente (MMA) e o Minist\u00e9rio da Ci\u00eancia, Tecnologia e Inova\u00e7\u00e3o (MCTI), with recursos financeiros oriundos do Banco Mundial (World Bank \u2013 IBRD-IDA), al\u00e9m das institui\u00e7\u00f5es alem\u00e3es KfW e GIZ. \u00c1reas de Desmatamento no Cerrado Dados de desmatamentos ocorridos no Bioma Cerrado, disponibilizados anualmente, no per\u00edodo de 2003 a 2017, produzidos a partir de imagens MODIS (MOD13Q1), sendo utilizadas imagens LANDSAT e CBERS para valida\u00e7\u00e3o. 2003 a 2017 1:500.000 Lapig/UFG Perda de Cobertura \u00c1rborea Sistema de alerta para desmatamentos baseado em Landsat (perda de cobertura de \u00e1rvores). As imagens Landsat s\u00e3o avaliadas quanto \u00e0 cobertura de nuvens ou \u00e0 baixa qualidade dos dados e comparadas aos tr\u00eas anos anteriores de m\u00e9tricas derivadas do Landsat (incluindo classifica\u00e7\u00f5es, m\u00e9dias e regress\u00f5es de vermelho, infravermelho e bandas de ondas curtas, e fileiras de NDVI, NBR e NDWI). As m\u00e9tricas e a imagem mais recente do Landsat s\u00e3o executadas em sete \u00e1rvores de decis\u00e3o para calcular uma probabilidade mediana de dist\u00farbio na floresta. Pixels com probabilidade> 50% s\u00e3o relatados como alertas de perda de cobertura de \u00e1rvore. Para mais informa\u00e7\u00f5es sobre metodologia, consulte o artigo em Cartas de Pesquisa Ambiental 2001 a 2018 1:250.000 Hansen/UMD/Google/USGS/NASA, Global Forest Watch. Alertas de Desmatamento no Cerrado \u00c1rea desmatada \u00e0 partir de 2018. Este mapeamento utiliza imagens do sat\u00e9lite Landsat ou similares, para registrar e quantificar as \u00e1reas de avisos de desmatamento com solo exposto, desmatamento com vegeta\u00e7\u00e3o e minera\u00e7\u00e3o. 2018 e 2019 1:250.000 Programa conduzido pelo Minist\u00e9rio de Meio Ambiente (MMA) e o Minist\u00e9rio da Ci\u00eancia, Tecnologia e Inova\u00e7\u00e3o (MCTI) contando com recursos financeiros oriundos do Banco Mundial (World Bank \u2013 IBRD-IDA), al\u00e9m das institui\u00e7\u00f5es alem\u00e3es KfW e GIZ. \u00c1reas de Queimadas do Cerrado Dados de queimadas ocorridos no Brasil, para o per\u00edodo de 2002 \u00e0 2018, produzidos a partir de imagens MODIS (MCD45A1). 2000 a 2019 1:500.000 LAPIG / UFG. Geof\u00edsico / Edafoclim\u00e1tico Dado Descri\u00e7\u00e3o Data Escala Fonte Regi\u00f5es Hidrogr\u00e1ficas Social Dado Descri\u00e7\u00e3o Data Escala Fonte \u00c1reas em conflitos por terra N\u00famero de \u00e1reas em situa\u00e7\u00f5es de conflitos por terra, por munic\u00edpios do Cerrado, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Conflitos por \u00e1gua - Ocorr\u00eancias N\u00famero de ocorr\u00eancias de a\u00e7\u00f5es de resist\u00eancia por munic\u00edpios do Cerrado, em geral coletivas, que visam garantir o uso e a preserva\u00e7\u00e3o das \u00e1guas, no per\u00edodo de 2006 \u00e1 2017, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2017 1:250.000 Comiss\u00e3o Pastoral da Terra Pessoas envolvidas em conflitos por \u00c1gua N\u00famero de pessoas envolvidas em conflitos por \u00e1gua ocorridos por munic\u00edpio, em a\u00e7\u00f5es de resist\u00eancia e enfrentamento pela posse, uso e propriedade da terra e pelo acesso aos recursos naturais, na regi\u00e3o do Matopiba, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Conflitos por terra - Ocorr\u00eancias N\u00famero de conflitos por munic\u00edpios do Cerrado, em a\u00e7\u00f5es de resist\u00eancia e enfrentamento pela posse, uso e propriedade da terra e pelo acesso aos recursos naturais, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Pessoas envolvidas em conflitos por Terra N\u00famero de pessoas envolvidas em conflitos por terra ocorridos por munic\u00edpio, em a\u00e7\u00f5es de resist\u00eancia e enfrentamento pela posse, uso e propriedade da terra e pelo acesso aos recursos naturais, na regi\u00e3o do Matopiba, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Trabalho escravo N\u00famero de pessoas envolvidas por munic\u00edpios do Cerrado, em a\u00e7\u00f5es de trabalhos for\u00e7ados, jornada exaustiva, ou por sujeit\u00e1-lo a condi\u00e7\u00f5es degradantes de trabalho, no per\u00edodo de de 2008 \u00e1 2017, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2008 \u00e1 2017 1:250.000 Comiss\u00e3o Pastoral da Terra \u00cdndice de Desenvolvimento Humano \u00cdndice de Desenvolvimento Humano Municipal, calculado pela m\u00e9dia geom\u00e9trica dos \u00edndices das dimens\u00f5es de Renda, Educa\u00e7\u00e3o e Longevidade. Esse c\u00e1lculo foi realizado a partir das informa\u00e7\u00f5es dos 3 \u00faltimos Censos Demogr\u00e1ficos do IBGE \u2013 1991, 2000 e 2010. 1991, 2000 e 2010 1:250.000 Programa das Na\u00e7\u00f5es Unidas para o Desenvolvimento Pontos de Valida\u00e7\u00e3o (LAPIG) Dado Descri\u00e7\u00e3o Data Escala Fonte Pontos de Campo Com o prop\u00f3sito de validar mapas produzidos pelo LAPIG-UFG no \u00e2mbito do MapBiomas e de subsidiar pesquisas voltadas \u00e0 qualifica\u00e7\u00e3o das pastagens brasileiras, seis atividades de campo foram realizadas durante os anos de 2017 e 2018. Um grande conjunto de pontos georreferenciados foi formado e organizado com dados de uso/cobertura do solo e indicativos de qualidade das pastagens. 2017 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. Pontos de Campo Com o prop\u00f3sito de validar mapas produzidos pelo LAPIG-UFG no \u00e2mbito do MapBiomas e de subsidiar pesquisas voltadas \u00e0 qualifica\u00e7\u00e3o das pastagens brasileiras, seis atividades de campo foram realizadas durante os anos de 2017 e 2018. Um grande conjunto de pontos georreferenciados foi formado e organizado com dados de uso/cobertura do solo e indicativos de qualidade das pastagens. 2017 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. (viabilizador). Pontos Visualmente Inspecionados Conjunto georreferenciado de pontos para todo o territ\u00f3rio brasileiro, sendo atribu\u00eddas classes de uso e cobertura do solo referente a cada ano no per\u00edodo de 1985 a 2017. Foram utilizadas imagens Landsat provenientes dos sensores TM, ETM+ e OLI. Buscou-se tamb\u00e9m abordar os crit\u00e9rios adotados, dificuldades e especificidades encontradas quanto a interpreta\u00e7\u00e3o de imagens em cada um dos 6 biomas brasileiros. 1985 \u00e0 2017 n\u00e3o se aplica Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. Pontos Visualmente Inspecionados Conjunto georreferenciado de pontos para todo o territ\u00f3rio brasileiro, sendo atribu\u00eddas classes de uso e cobertura do solo referente a cada ano no per\u00edodo de 1985 a 2017. Foram utilizadas imagens Landsat provenientes dos sensores TM, ETM+ e OLI. Buscou-se tamb\u00e9m abordar os crit\u00e9rios adotados, dificuldades e especificidades encontradas quanto a interpreta\u00e7\u00e3o de imagens em cada um dos 6 biomas brasileiros. 1985 \u00e0 2017 n\u00e3o se aplica Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil.","title":"Dados Geogr\u00e1ficos"},{"location":"01-guia_dados_geograficos.html#dados-geograficos","text":"","title":"Dados Geogr\u00e1ficos"},{"location":"01-guia_dados_geograficos.html#uso-do-solo","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte Mapa de Cobertura e Uso do Solo do Brasil - Mapbiomas O Projeto de Mapeamento Anual da Cobertura e Uso do Solo do Brasil \u00e9 uma iniciativa que envolve uma rede colaborativa com especialistas nos biomas, usos da terra, sensoriamento remoto, SIG e ci\u00eancia da computa\u00e7\u00e3o. S\u00e3o utilizadas tecnicas envolvendo processamento em nuvem e classificadores automatizados desenvolvidos e operados a partir da plataforma Google Earth Engine para gerar uma s\u00e9rie hist\u00f3rica de mapas anuais de cobertura e uso da terra do Brasil. 1985 \u00e0 2019, Cole\u00e7\u00e3o 5. 30 metros Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. Mapeamento do Uso e Cobertura Vegetal do Cerrado \u2013 TerraClass Cerrado Mapeamento do Uso e Cobertura Vegetal do Cerrado - TerraClass Cerrado, utiliza como base de mapeamento 118 cenas do sat\u00e9lite Landsat 8, sensor Operational Land Imager ( OLI), ano de 2013, que recobrem todo o bioma. A \u00e1rea m\u00ednima mape\u00e1vel \u00e9 de 6,25 hectares. 2013 1:250.000 UFG, IBAMA CSR, INPE OBT e CRA, EMBRAPA MONITORAMENTO POR SAT\u00c9LITE, EMBRAPA INFORM\u00c1TICA AGROPECU\u00c1RIA, UFU. Programa conduzido pelo Minist\u00e9rio de Meio Ambiente (MMA), com recursos financeiros oriundos do Global Environment Facility (GEF) por meio do Banco Mundial e do Fundo Brasileiro para a Biodiversidade (Funbio). Para acessar a publica\u00e7\u00e3o completa do projeto, clique aqui! Mapeamento do Uso e Cobertura Vegetal do Cerrado - PROBIO Mapeamento da cobertura vegetal do bioma Cerrado - PROBIO utiliza como base de mapeamento 121 cenas do sat\u00e9lite Landsat ETM+, da esta\u00e7\u00e3o seca do ano de 2002. 2002 1:250.000 Projeto de Conserva\u00e7\u00e3o e Utiliza\u00e7\u00e3o Sustent\u00e1vel da Diversidade Biol\u00f3gica Brasileira - PROBIO-MMA Ecorregi\u00f5es do Cerrado Divis\u00e3o do bioma Cerrado em regi\u00f5es ecol\u00f3gicas distintas. 2019 1:5000.000 Sano, E. E., Rodrigues, A. A., Martins, E. S., Bettiol, G. M., Bustamante, M. M., Bezerra, A. S., Couto Jr., A. F., Vasconcelos, V., Sch\u00fcler, J., Bolfe, E. L. 2019. Cerrado ecorregions: A spatial framework to assess and prioritize Brazilian savanna environmentak diversity for conservation. Journal of environmental management, 232, 818-828. Atrativos Tur\u00edsticos Kalunga Localiza\u00e7\u00e3o dos atrativos tur\u00edsticos no S\u00edtio Hist\u00f3rico e Patrim\u00f4nio Cultural Kalunga. 2020 100m Associa\u00e7\u00e3o Quilombo Kalunga Atrativos Tur\u00edsticos do V\u00e3o do Paran\u00e3 Localiza\u00e7\u00e3o dos atrativos tur\u00edsticos na regi\u00e3o do V\u00e3o do Paran\u00e3 no nordeste de Goi\u00e1s. 2019 N\u00e3o se aplica Instituto \u00c1gua e Terra Risco Ecol\u00f3gico de contamina\u00e7\u00e3o de aqu\u00edferos Dados relativos ao risco ecol\u00f3gico de contamina\u00e7\u00e3o de aqu\u00edferos do Zoneamento Ecol\u00f3gico-Econ\u00f4mico do Distrito Federal para a gest\u00e3o de risco sobre contamina\u00e7\u00e3o de aqu\u00edferos. O risco de contamina\u00e7\u00e3o de um aqu\u00edfero diz respeito ao seu grau de prote\u00e7\u00e3o natural a amea\u00e7as potenciais de contamina\u00e7\u00e3o (Foster & Hirata, 1988). Este risco \u00e9 pr\u00f3prio de cada aqu\u00edfero e depende de dois fatores principais: a profundidade das \u00e1guas subterr\u00e2neas e do tipo de aqu\u00edfero no tocante ao confinamento e litologia. 2017 N\u00e3o se aplica Secretaria de Estado do Meio Ambiente do Distrito Federal Risco ecol\u00f3gico de perda de cerrado nativo Dados relativos ao risco de perda de remanescentes de cerrado nativo no Distrito Federal para a gest\u00e3o de risco sobre os fragmentos de vegeta\u00e7\u00e3o nativa. O mapa \u00e9 baseado no mapeamento de uso e cobertura vegetal de 2009, com atualiza\u00e7\u00f5es em 2014 pelo Instituto Bras\u00edlia Ambiental (IBRAM) e em 2016 pela Coordena\u00e7\u00e3o Geral T\u00e9cnica do ZEE-DF. 2017 N\u00e3o se aplica Secretaria de Estado do Meio Ambiente do Distrito Federal Risco ecol\u00f3gico de perda de capacidade de recarga dos aqu\u00edferos Dados relativos \u00e0 taxa de infiltra\u00e7\u00e3o de \u00e1gua nos aqu\u00edferos do Distrito Federal para a gest\u00e3o de riscos sobre a perda da capacidade de recarga de aqu\u00edferos. 2017 N\u00e3o se aplica Secretaria de Estado do Meio Ambiente do Distrito Federal","title":"Uso do Solo"},{"location":"01-guia_dados_geograficos.html#agropecuaria","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte Agricultura - Agrosat\u00e9lite Din\u00e2mica da expans\u00e3o da \u00e1rea plantada com culturas anuais no Bioma Cerrado. 2001; 2007; 2014 1:250.000 Agrosat\u00e9lite Geotecnologia Aplicada, Funda\u00e7\u00e3o Gordon and Betty Moore (Financiadores) \u00c1reas de Pastagens do Brasil Mapeamento anual das pastagens brasileiras, realizado atrav\u00e9s do uso de s\u00e9ries de dados Landsat de 1985 a 2018. Utilizando abordagens de classifica\u00e7\u00e3o supervisionada (Random Forest) atrav\u00e9s da plataforma Earth Engine da Google. De 1985 a 2018. 30 metros. Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento - Lapig (gera\u00e7\u00e3o do dado). Projeto de Mapeamento Anual da Cobertura e Uso do Solo do Brasil - MapBiomas (viabilizador). Ind\u00edcios de degrada\u00e7\u00e3o das pastagens brasileiras Mapeamento da qualidade de pastagens, gerado pelo Lapig, onde foram analisados os dados de pastagens pixel a pixel para o per\u00edodo de 2011 a 2016, por meio de an\u00e1lise de tend\u00eancias em anomalias acumuladas. A an\u00e1lise foi baseado em dados satelit\u00e1rios (NDVI/MOD13Q1), e avalia perdas ou ganho em produtividade. As \u00e1reas com tend\u00eancia significativas de perda em produtividade (p < 0.05) foram consideradas \u00e1reas com ind\u00edcios de degrada\u00e7\u00e3o. 2017 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento - Lapig Rebanho Bovino em Unidades Animal (UA) C\u00e1lculo realizado considerando a composi\u00e7\u00e3o do rebanho para o censo agropecu\u00e1rio. Para os anos de 1986 a 1999, utilizou-se os dados do censo agropecu\u00e1rio de 1996. Para os anos de 2000 a 2018. utilizou-se os dados do censo agropecu\u00e1rio de 2006. Sendo que uma Unidade Animal (UA), equivale a um animal de 450 kg vivo. 1985 \u00e1 2018 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento - Lapig (gera\u00e7\u00e3o do dado). Produ\u00e7\u00e3o de Leite por Munic\u00edpios do Brasil Quantidade de Leite produzido por munic\u00edpios do Brasil, em Litros, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa da Pecu\u00e1ria Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Algod\u00e3o por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de algod\u00e3o em caro\u00e7o por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Cana-de-a\u00e7\u00facar por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de cana-de-a\u00e7\u00facar por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Milho por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de milho por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE \u00c1reas de Planta\u00e7\u00e3o de Soja por Munic\u00edpios do Brasil \u00c1reas de planta\u00e7\u00e3o de soja por munic\u00edpios do Brasil, por hectares, no per\u00edodo de 2000 a 2019, conforme dados da Pesquisa Agr\u00edcola Municipal. 2000 a 2019 1:250.000 SIDRA / IBGE Produ\u00e7\u00e3o de Carv\u00e3o vegetal por Munic\u00edpios do Brasil Quantidade de carv\u00e3o vegetal produzido por munic\u00edpios do brasil, em Toneladas, no per\u00edodo de 2000 a 2019, conforme dados da Produ\u00e7\u00e3o de Extra\u00e7\u00e3o Vegetal e da Silvicultura. 2000 a 2019 1:250.000 SIDRA / IBGE Produ\u00e7\u00e3o de Lenha por Munic\u00edpios do Brasil Quantidade de Lenha produzida por munic\u00edpios do brasil, em Metros C\u00fabicos, no per\u00edodo de 2000 a 2019, conforme dados da Produ\u00e7\u00e3o de Extra\u00e7\u00e3o Vegetal e da Silvicultura. 2000 a 2019 1:250.000 SIDRA / IBGE Produ\u00e7\u00e3o de Madeira por Munic\u00edpios do Brasil Quantidade de Madeira produzida por munic\u00edpios do brasil, em Metros C\u00fabicos, no per\u00edodo de 2000 a 2019, conforme dados da Produ\u00e7\u00e3o de Extra\u00e7\u00e3o Vegetal e da Silvicultura. 2000 a 2019 1:250.000 SIDRA / IBGE","title":"Agropecu\u00e1ria"},{"location":"01-guia_dados_geograficos.html#areas-especiais","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte Assentamentos Terras Ind\u00edgenas Terras Privadas CAR Unidades de Planejamento H\u00eddrico","title":"\u00c1reas Especiais"},{"location":"01-guia_dados_geograficos.html#biodiversidade","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte \u00c1reas-chave de Biodiversidade - KBAs \u00c1reas Importantes para Conserva\u00e7\u00e3o das Aves \u00c1reas cr\u00edticas para as aves e a biodiversidade em geral. Faz parte da estrat\u00e9gia mundial da BirdLife International. Corredores Priorit\u00e1rios CEPF Unidades de Conserva\u00e7\u00e3o Integral Faveiro de Wilson Registros de ocorr\u00eancia do faveiro-de-wilson na regi\u00e3o central de Minas Gerais. Ela \u00e9 end\u00eamica desta regi\u00e3o e h\u00e1 16 anos o PROGRAMA DE CONSERVA\u00c7\u00c3O DO FAVEIRO-DE-WILSON trabalha para a conserva\u00e7\u00e3o desta esp\u00e9cie. Estes pontos foram registrados nos trabalhos de campo, usando um GPS Garmin GPSMap posicionado junto ao tronco da \u00e1rvore, se tratando de dados bem precisos. 2014 N\u00e3o se aplica PROGRAMA DE CONSERVA\u00c7\u00c3O DO FAVEIRO-DE-WILSON Fauna - SIBBR Compila\u00e7\u00e3o de dados e informa\u00e7\u00f5es sobre a biodiversidade no Cerrado desenvolvida sob a coordena\u00e7\u00e3o do Minist\u00e9rio da Ci\u00eancia e Tecnologia (MCTI) N\u00e3o se aplica N\u00e3o se aplica Sistema de Informa\u00e7\u00e3o sobre a Biodiversidade Brasileira (SIBBR) Flora - SIBBR Compila\u00e7\u00e3o de dados e informa\u00e7\u00f5es sobre a biodiversidade no Cerrado desenvolvida sob a coordena\u00e7\u00e3o do Minist\u00e9rio da Ci\u00eancia e Tecnologia (MCTI) N\u00e3o se aplica N\u00e3o se aplica Sistema de Informa\u00e7\u00e3o sobre a Biodiversidade Brasileira (SIBBR) Reserva da Biosfera Revis\u00e3o dos Limites da Reserva da Biosfera do Cerrado, verificando sobreposi\u00e7\u00f5es, conflitos e prioridades, promovendo ajustes e incorpora\u00e7\u00f5es necess\u00e1rias para melhor contemplar a conserva\u00e7\u00e3o do Bioma Cerrado. 2018 1:10.000 Greentec Tecnologia Ambiental Avistamento de Pato Mergulh\u00e3o Pontos de avistamento da esp\u00e9cie end\u00eamica amea\u00e7ada de extin\u00e7\u00e3o Pato Mergulh\u00e3o. 2019 N\u00e3o se aplica Instituto Amada Terra","title":"Biodiversidade"},{"location":"01-guia_dados_geograficos.html#desmatamentos-queimadas","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte Monitoramento do Desmatamento no Cerrado Brasileiro por Sat\u00e9lite \u00c1rea desmatada a partir de 2000 discretizadas em uma s\u00e9ria hist\u00f3rica bienal para o per\u00edodo de 2000 a 2012, e anual para os anos de 2013 a 2018. O mapeamento utiliza imagens do sat\u00e9lite Landsat ou similares para registrar e quantificar as \u00e1reas desmatadas maiores que 1 hectare. O PRODES considera como desmatamento a remo\u00e7\u00e3o completa da cobertura florestal prim\u00e1ria por corte raso, independentemente da futura utiliza\u00e7\u00e3o destas \u00e1reas Bienal de 2000 a 2012, e anual de 2013 a 2018. 1:250.000 Programa conduzido pelo Minist\u00e9rio de Meio Ambiente (MMA) e o Minist\u00e9rio da Ci\u00eancia, Tecnologia e Inova\u00e7\u00e3o (MCTI), with recursos financeiros oriundos do Banco Mundial (World Bank \u2013 IBRD-IDA), al\u00e9m das institui\u00e7\u00f5es alem\u00e3es KfW e GIZ. \u00c1reas de Desmatamento no Cerrado Dados de desmatamentos ocorridos no Bioma Cerrado, disponibilizados anualmente, no per\u00edodo de 2003 a 2017, produzidos a partir de imagens MODIS (MOD13Q1), sendo utilizadas imagens LANDSAT e CBERS para valida\u00e7\u00e3o. 2003 a 2017 1:500.000 Lapig/UFG Perda de Cobertura \u00c1rborea Sistema de alerta para desmatamentos baseado em Landsat (perda de cobertura de \u00e1rvores). As imagens Landsat s\u00e3o avaliadas quanto \u00e0 cobertura de nuvens ou \u00e0 baixa qualidade dos dados e comparadas aos tr\u00eas anos anteriores de m\u00e9tricas derivadas do Landsat (incluindo classifica\u00e7\u00f5es, m\u00e9dias e regress\u00f5es de vermelho, infravermelho e bandas de ondas curtas, e fileiras de NDVI, NBR e NDWI). As m\u00e9tricas e a imagem mais recente do Landsat s\u00e3o executadas em sete \u00e1rvores de decis\u00e3o para calcular uma probabilidade mediana de dist\u00farbio na floresta. Pixels com probabilidade> 50% s\u00e3o relatados como alertas de perda de cobertura de \u00e1rvore. Para mais informa\u00e7\u00f5es sobre metodologia, consulte o artigo em Cartas de Pesquisa Ambiental 2001 a 2018 1:250.000 Hansen/UMD/Google/USGS/NASA, Global Forest Watch. Alertas de Desmatamento no Cerrado \u00c1rea desmatada \u00e0 partir de 2018. Este mapeamento utiliza imagens do sat\u00e9lite Landsat ou similares, para registrar e quantificar as \u00e1reas de avisos de desmatamento com solo exposto, desmatamento com vegeta\u00e7\u00e3o e minera\u00e7\u00e3o. 2018 e 2019 1:250.000 Programa conduzido pelo Minist\u00e9rio de Meio Ambiente (MMA) e o Minist\u00e9rio da Ci\u00eancia, Tecnologia e Inova\u00e7\u00e3o (MCTI) contando com recursos financeiros oriundos do Banco Mundial (World Bank \u2013 IBRD-IDA), al\u00e9m das institui\u00e7\u00f5es alem\u00e3es KfW e GIZ. \u00c1reas de Queimadas do Cerrado Dados de queimadas ocorridos no Brasil, para o per\u00edodo de 2002 \u00e0 2018, produzidos a partir de imagens MODIS (MCD45A1). 2000 a 2019 1:500.000 LAPIG / UFG.","title":"Desmatamentos / Queimadas"},{"location":"01-guia_dados_geograficos.html#geofisico-edafoclimatico","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte Regi\u00f5es Hidrogr\u00e1ficas","title":"Geof\u00edsico / Edafoclim\u00e1tico"},{"location":"01-guia_dados_geograficos.html#social","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte \u00c1reas em conflitos por terra N\u00famero de \u00e1reas em situa\u00e7\u00f5es de conflitos por terra, por munic\u00edpios do Cerrado, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Conflitos por \u00e1gua - Ocorr\u00eancias N\u00famero de ocorr\u00eancias de a\u00e7\u00f5es de resist\u00eancia por munic\u00edpios do Cerrado, em geral coletivas, que visam garantir o uso e a preserva\u00e7\u00e3o das \u00e1guas, no per\u00edodo de 2006 \u00e1 2017, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2017 1:250.000 Comiss\u00e3o Pastoral da Terra Pessoas envolvidas em conflitos por \u00c1gua N\u00famero de pessoas envolvidas em conflitos por \u00e1gua ocorridos por munic\u00edpio, em a\u00e7\u00f5es de resist\u00eancia e enfrentamento pela posse, uso e propriedade da terra e pelo acesso aos recursos naturais, na regi\u00e3o do Matopiba, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Conflitos por terra - Ocorr\u00eancias N\u00famero de conflitos por munic\u00edpios do Cerrado, em a\u00e7\u00f5es de resist\u00eancia e enfrentamento pela posse, uso e propriedade da terra e pelo acesso aos recursos naturais, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Pessoas envolvidas em conflitos por Terra N\u00famero de pessoas envolvidas em conflitos por terra ocorridos por munic\u00edpio, em a\u00e7\u00f5es de resist\u00eancia e enfrentamento pela posse, uso e propriedade da terra e pelo acesso aos recursos naturais, na regi\u00e3o do Matopiba, no per\u00edodo de 2006 \u00e1 2016, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2006 \u00e1 2016 1:250.000 Comiss\u00e3o Pastoral da Terra Trabalho escravo N\u00famero de pessoas envolvidas por munic\u00edpios do Cerrado, em a\u00e7\u00f5es de trabalhos for\u00e7ados, jornada exaustiva, ou por sujeit\u00e1-lo a condi\u00e7\u00f5es degradantes de trabalho, no per\u00edodo de de 2008 \u00e1 2017, produzidos pela CPT - Comiss\u00e3o Pastoral da Terra - espacializados pelo Lapig. 2008 \u00e1 2017 1:250.000 Comiss\u00e3o Pastoral da Terra \u00cdndice de Desenvolvimento Humano \u00cdndice de Desenvolvimento Humano Municipal, calculado pela m\u00e9dia geom\u00e9trica dos \u00edndices das dimens\u00f5es de Renda, Educa\u00e7\u00e3o e Longevidade. Esse c\u00e1lculo foi realizado a partir das informa\u00e7\u00f5es dos 3 \u00faltimos Censos Demogr\u00e1ficos do IBGE \u2013 1991, 2000 e 2010. 1991, 2000 e 2010 1:250.000 Programa das Na\u00e7\u00f5es Unidas para o Desenvolvimento","title":"Social"},{"location":"01-guia_dados_geograficos.html#pontos-de-validacao-lapig","text":"Dado Descri\u00e7\u00e3o Data Escala Fonte Pontos de Campo Com o prop\u00f3sito de validar mapas produzidos pelo LAPIG-UFG no \u00e2mbito do MapBiomas e de subsidiar pesquisas voltadas \u00e0 qualifica\u00e7\u00e3o das pastagens brasileiras, seis atividades de campo foram realizadas durante os anos de 2017 e 2018. Um grande conjunto de pontos georreferenciados foi formado e organizado com dados de uso/cobertura do solo e indicativos de qualidade das pastagens. 2017 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. Pontos de Campo Com o prop\u00f3sito de validar mapas produzidos pelo LAPIG-UFG no \u00e2mbito do MapBiomas e de subsidiar pesquisas voltadas \u00e0 qualifica\u00e7\u00e3o das pastagens brasileiras, seis atividades de campo foram realizadas durante os anos de 2017 e 2018. Um grande conjunto de pontos georreferenciados foi formado e organizado com dados de uso/cobertura do solo e indicativos de qualidade das pastagens. 2017 1:250.000 Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. (viabilizador). Pontos Visualmente Inspecionados Conjunto georreferenciado de pontos para todo o territ\u00f3rio brasileiro, sendo atribu\u00eddas classes de uso e cobertura do solo referente a cada ano no per\u00edodo de 1985 a 2017. Foram utilizadas imagens Landsat provenientes dos sensores TM, ETM+ e OLI. Buscou-se tamb\u00e9m abordar os crit\u00e9rios adotados, dificuldades e especificidades encontradas quanto a interpreta\u00e7\u00e3o de imagens em cada um dos 6 biomas brasileiros. 1985 \u00e0 2017 n\u00e3o se aplica Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil. Pontos Visualmente Inspecionados Conjunto georreferenciado de pontos para todo o territ\u00f3rio brasileiro, sendo atribu\u00eddas classes de uso e cobertura do solo referente a cada ano no per\u00edodo de 1985 a 2017. Foram utilizadas imagens Landsat provenientes dos sensores TM, ETM+ e OLI. Buscou-se tamb\u00e9m abordar os crit\u00e9rios adotados, dificuldades e especificidades encontradas quanto a interpreta\u00e7\u00e3o de imagens em cada um dos 6 biomas brasileiros. 1985 \u00e0 2017 n\u00e3o se aplica Laborat\u00f3rio de Processamento de Imagens e Geoprocessamento \u2013 Lapig (gera\u00e7\u00e3o do dado). Projeto financiador: Spatial metrics and baselines of degradation patterns and provision of ecosystem services by pastures in Brazil.","title":"Pontos de Valida\u00e7\u00e3o (LAPIG)"},{"location":"01-guia_funcionalidades.html","text":"Funcionalidades Dashboard O dashboard da plataforma de conhecimento do cerrado \u00e9 formado por elementos principais: 1 - Controle de Visualiza\u00e7\u00e3o Permite o controle do n\u00edvel de zoom do mapa, al\u00e9m de ocultar e ativar a visualiza\u00e7\u00e3o da \u201cCamada de Dados\u201d. 2 - Camada de Dados Agrega todos os dados que podem ser exibidos no mapa: Tamb\u00e9m permite ao usu\u00e1rio, com op\u00e7\u00f5es agrupadas em abas: * Escolha do mapa base: *Sele\u00e7\u00e3o dos limites que s\u00e3o mostrados no mapa: Upload de uma \u00e1rea de interesse permite a submiss\u00e3o de arquivos shapefile e geojson (compactados em .zip) ou .kml e .kmz (produzidos pelo Google Earth). Ap\u00f3s a submiss\u00e3o do arquivo espacial, os limites da \u00e1rea de interesse j\u00e1 podem ser visualizados no mapa. Um token, num\u00e9rico e em QR Code, tamb\u00e9m \u00e9 criado para eventuais compartilhamentos. 3 - Mapa interativo \u00c1rea onde todas as camadas de dados s\u00e3o visualizadas. 4 - Legenda Legenda correspondente \u00e0s camadas de dados habilitadas para visualiza\u00e7\u00e3o. 5 - An\u00e1lises As an\u00e1lises permitem os usu\u00e1rios ver os dados em forma de gr\u00e1ficos. Os gr\u00e1ficos s\u00e3o atualizados conforme a regi\u00e3o de interesse. O gr\u00e1fico de uso do solo tamb\u00e9m \u00e9 atualizado al\u00e9m da \u00e1rea de interesse do usu\u00e1rio, ao selecionar um outro mapa de uso do solo, como Terraclass ou Probio, o gr\u00e1fico ir\u00e1 condizer com o mapa selecionado. Para o dado do Mapbiomas ao alterar o ano o gr\u00e1fico tamb\u00e9m \u00e9 atualizado. Por meio da aba Agropecu\u00e1ria \u00e9 poss\u00edvel analisar os dados de Agricultura de Soja, Milho e Algod\u00e3o de acordo com a Agrosat\u00e9lite para os anos de 2014, 2007 e 2001. Outro gr\u00e1fico dispon\u00edvel para an\u00e1lise \u00e9 o de \u00c1reas de Pastagem elaborado pelo Lapig a partir do ano de 1985. Para deixar a an\u00e1lise ainda mais rica podemos comparar no mesmo gr\u00e1fico o rebanho bovino. Ao selecionar um estado ou munic\u00edpio como regi\u00e3o de interesse \u00e9 poss\u00edvel gerar um relat\u00f3rio mais completo e com a possibilidade de imprimir/exportar para PDF.","title":"Funcionalidades"},{"location":"01-guia_funcionalidades.html#funcionalidades","text":"","title":"Funcionalidades"},{"location":"01-guia_funcionalidades.html#dashboard","text":"O dashboard da plataforma de conhecimento do cerrado \u00e9 formado por elementos principais: 1 - Controle de Visualiza\u00e7\u00e3o Permite o controle do n\u00edvel de zoom do mapa, al\u00e9m de ocultar e ativar a visualiza\u00e7\u00e3o da \u201cCamada de Dados\u201d. 2 - Camada de Dados Agrega todos os dados que podem ser exibidos no mapa: Tamb\u00e9m permite ao usu\u00e1rio, com op\u00e7\u00f5es agrupadas em abas: * Escolha do mapa base: *Sele\u00e7\u00e3o dos limites que s\u00e3o mostrados no mapa: Upload de uma \u00e1rea de interesse permite a submiss\u00e3o de arquivos shapefile e geojson (compactados em .zip) ou .kml e .kmz (produzidos pelo Google Earth). Ap\u00f3s a submiss\u00e3o do arquivo espacial, os limites da \u00e1rea de interesse j\u00e1 podem ser visualizados no mapa. Um token, num\u00e9rico e em QR Code, tamb\u00e9m \u00e9 criado para eventuais compartilhamentos. 3 - Mapa interativo \u00c1rea onde todas as camadas de dados s\u00e3o visualizadas. 4 - Legenda Legenda correspondente \u00e0s camadas de dados habilitadas para visualiza\u00e7\u00e3o. 5 - An\u00e1lises As an\u00e1lises permitem os usu\u00e1rios ver os dados em forma de gr\u00e1ficos. Os gr\u00e1ficos s\u00e3o atualizados conforme a regi\u00e3o de interesse. O gr\u00e1fico de uso do solo tamb\u00e9m \u00e9 atualizado al\u00e9m da \u00e1rea de interesse do usu\u00e1rio, ao selecionar um outro mapa de uso do solo, como Terraclass ou Probio, o gr\u00e1fico ir\u00e1 condizer com o mapa selecionado. Para o dado do Mapbiomas ao alterar o ano o gr\u00e1fico tamb\u00e9m \u00e9 atualizado. Por meio da aba Agropecu\u00e1ria \u00e9 poss\u00edvel analisar os dados de Agricultura de Soja, Milho e Algod\u00e3o de acordo com a Agrosat\u00e9lite para os anos de 2014, 2007 e 2001. Outro gr\u00e1fico dispon\u00edvel para an\u00e1lise \u00e9 o de \u00c1reas de Pastagem elaborado pelo Lapig a partir do ano de 1985. Para deixar a an\u00e1lise ainda mais rica podemos comparar no mesmo gr\u00e1fico o rebanho bovino. Ao selecionar um estado ou munic\u00edpio como regi\u00e3o de interesse \u00e9 poss\u00edvel gerar um relat\u00f3rio mais completo e com a possibilidade de imprimir/exportar para PDF.","title":"Dashboard"},{"location":"02-arq_execucao_dpat.html","text":"Introdu\u00e7\u00e3o Conforme detalhado na se\u00e7\u00e3o Arquitetura de Software , para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado s\u00e3o necess\u00e1rias 3 estruturas criadas e funcionais na m\u00e1quina do usu\u00e1rio: O Banco de Dados lapig restaurado no servi\u00e7o do PostgreSQL devidamente instalado com a extens\u00e3o PostGis. O servi\u00e7o OWS Server devidamente configurado e executando em um IP e porta. O Application Server e client (Front-end) da aplica\u00e7\u00e3o compilados e executando. Restaurando e disponibilizando o banco de dados lapig Para restaurar o banco lapig no PostgreSQL, \u00e9 necess\u00e1rio ter o servi\u00e7o PostgreSQL executando na m\u00e1quina do usu\u00e1rio. Para tal, pode-se utilizar o tutorial neste link para instalar e executar o PostgreSQL e o PGAdmin3. Ao final do tutorial, deve-se verificar qual a vers\u00e3o do PostgreSQL instalado (ver: link ) e tamb\u00e9m instalar a extens\u00e3o do Postgis para a vers\u00e3o adequada de acordo com o tutorial deste link no Step 4: Install PostGIS on Ubuntu 20.04/18.04 / Debian 10 . Com o PostgreSQL e o PostGIS instalados, em seguida \u00e9 necess\u00e1rio realizar o download do \u00faltimo backup disponibilizado no endere\u00e7o e extra\u00ed-lo. $ tar -xfv BKP_BANCO_DADOS_LAPIG.tar.gz Em seguida, deve-se exportar a vari\u00e1vel de senha do banco de dados configurada anteriormente. $ export PGPASSWORD= <db_password> Ap\u00f3s exporta\u00e7\u00e3o da senha, deve criar o banco de dados no servi\u00e7o PostgreSQL. Este passo pode ser realizado por linha de comando ou com ajuda do PGAdmin3. Ambos os passos est\u00e3o demonstrados abaixo. $ psql -h <host_address> -U <db_user> -c \"create database lapig;\" Ap\u00f3s a cria\u00e7\u00e3o do banco de dados, deve-se criar as extens\u00f5es do PostGis e PlPGSql para uso das fun\u00e7\u00f5es na aplica\u00e7\u00e3o. $ psql -h <host_address> -U <db_user> -d lapig -c \"create extension postgis;\" $ psql -h <host_address> -U <db_user> -d lapig -c \"create extension plpgsql;\" Agora de fato pode-se restaurar o banco de dados baixado e extra\u00eddo para a database lapig criada, o que pode ser alcan\u00e7ada atrav\u00e9s do comando. $ pg_restore -U lapig -h <host_address> -v -j 24 --format=d -C -d lapig lapig.sql/ Deployment da aplica\u00e7\u00e3o Plataforma de Conhecimento do Cerrado Para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado \u00e9 importante ressaltar que o Banco de Dados deve estar restaurado e acess\u00edvel conforme abordado na se\u00e7\u00e3o e tamb\u00e9m deve-se ter o OWS Server funcionando corretamente. Conforme mencionado anteriormente, a estrutura do OWS Server foi constru\u00edda com o apoio do Docker , portanto para instala\u00e7\u00e3o do mesmo, deve-se seguir os passos definidos nos tutoriais de acordo com o sistema operacional, seja ele Debian ou CentOS . Al\u00e9m do Docker, o script tamb\u00e9m faz uso das seguintes depend\u00eancias: Depend\u00eancia Tutorial para Instala\u00e7\u00e3o Perl https://learn.perl.org/installing/unix_linux.html wget https://www.cyberciti.biz/faq/how-to-install-wget-togetrid-of-error-bash-wget-command-not-found/ curl https://www.cyberciti.biz/faq/how-to-install-curl-command-on-a-ubuntu-linux/ Git https://gist.github.com/derhuerst/1b15ff4652a867391f03 Docker https://docs.docker.com/get-docker/ Docker Compose https://docs.docker.com/compose/install/ A seguir ser\u00e1 abordado duas maneiras de executar a aplica\u00e7\u00e3a Plataforma de Conhecimento do Cerrado em ambientes de Desenvolvimento e Produ\u00e7\u00e3o. Para o ambiente de desenvolvimento ser\u00e1 detalhado um passo a passo partindo do pressuposto que um programador ir\u00e1 dar manuten\u00e7\u00e3o ou continuidade na Plataforma de Conhecimento do Cerrado. J\u00e1 o ambiente de produ\u00e7\u00e3o, ser\u00e1 disponibilizado um script que executa todos os passos para disponibilizar a Plataforma de Conhecimento do Cerrado em uma porta da m\u00e1quina que est\u00e1 sendo executado. Em seguida, certifique-se de criar corretamente um arquivo .env conforme abordado na se\u00e7\u00e3o . Um exemplo de arquivo .env criado durante o processo de execu\u00e7\u00e3o do script para o ambiente de Produ\u00e7\u00e3o pode ser observado abaixo: APP_PRODUCAO='/data/dados-lapig/dpat-files' APP_PRODUCAO_CEPF='/data/dados-lapig/cepf-files' CLIENT_DIR='/../client/dist/lapig-cepf-cerrado/' LANG_DIR='/lang' LOG_DIR='/log/' TMP='/tmp/' FIELD_DATA_DIR='/media/campo/' UPLOAD_DATA_DIR='/uploads/' DOWNLOAD_DIR='/data/dados-lapig/download_atlas/' DOWNLOAD_DATA_DIR='/downloads-cepf/' PG_USER='db_user' PG_HOST='127.0.0.1' PG_DATABASE='lapig' PG_PASSWORD='db_password' PG_PORT='db_port' PG_DEBUG=true PORT=3000 OWS_HOST='http://172.18.0.8:5000' OWS_DOMAINS='http://172.18.0.8:5000' Ambiente de Desenvolvimento Assim como abordado na se\u00e7\u00e3o , a Plataforma de Conhecimento do Cerrado foi constru\u00eddo com NodeJS como Application Server e Angular como cliente ( WebMap Client ). Portanto, primeiramente \u00e9 necess\u00e1ria a instala\u00e7\u00e3o destes componentes na m\u00e1quina do desenvolvedor. Para tal, pode-se seguir o passo-a-passo elaborado neste link Para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado em ambiente de desenvolvimento, primeiramente \u00e9 necess\u00e1rio realizar um fork do projeto para a sua conta pessoal do Github e em seguida executar um git clone do reposit\u00f3rio do projeto . Para inicializar o servidor de aplica\u00e7\u00e3o ( Application Server ) deve-se executar o passo-a-passo descrito na se\u00e7\u00e3o . A execu\u00e7\u00e3o da mesma ir\u00e1 inicializar o Application Server em localhost na porta 3000. Em seguida, para inicializar o WebMap Client localizado na pasta src/client , basta navegar at\u00e9 a pasta client e instalar as depend\u00eancias listadas no package.json atrav\u00e9s do comando: $ npm install Ap\u00f3s a devida instala\u00e7\u00e3o das depend\u00eancias, pode-se ent\u00e3o compilar e inicializar a aplica\u00e7\u00e3o. Mais uma vez, a fim de facilitar, foi criado um script start.sh para inicializar o WebMap Client , portanto basta executar: $ ./src/client/start.sh Ao finalizar a compila\u00e7\u00e3o do projeto, a aplica\u00e7\u00e3o estar\u00e1 executando em localhost na porta padr\u00e3o do Angular, que \u00e9 a porta 4200. Portanto, para acessar a p\u00e1gina Web criada pela aplica\u00e7\u00e3o, acesse pelo navegador: http://localhost:4200 Ambiente de Produ\u00e7\u00e3o Em seguida, uma segunda maneira de disponibilizar a Plataforma de Conhecimento do Cerrado \u00e9 em ambiente de produ\u00e7\u00e3o. \u00c9 importante ressaltar que o OWS Server deve estar executando para que a Plataforma de Conhecimento do Cerrado fa\u00e7a as requisi\u00e7\u00f5es de imagens das diferentes camadas utilizadas pelo sistema. Para facilitar o processo de deployment em produ\u00e7\u00e3o, foi criado um script que realiza todos os passos necess\u00e1rios para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado em produ\u00e7\u00e3o. Para executar o script basta executar em um Terminal: $ ./start-cepf+ows.sh Assim como detalhado na se\u00e7\u00e3o de Deployment do OWS Server , este script ir\u00e1 pedir ao usu\u00e1rio que informe os par\u00e2metros endere\u00e7o, nome, porta, usu\u00e1rio e senha do Banco de Dados, de forma a alterar corretamente o arquivo de configura\u00e7\u00e3o do ambiente, .env corretamente. Em seguida, ap\u00f3s pedir as informa\u00e7\u00f5es do Banco de Dados, o script ir\u00e1 pedir ao usu\u00e1rio que informe o local onde a estrutura de pastas da Plataforma de Conhecimento do Cerrado dever\u00e1 ser criada e tamb\u00e9m qual o endere\u00e7o de IP da m\u00e1quina de produ\u00e7\u00e3o onde ser\u00e1 realizado o deployment assim como informado nas imagens abaixo. Basicamente o script dever\u00e1 criar e ajustar automaticamente as vari\u00e1veis de ambiente da Plataforma de Conhecimento do Cerrado, realizar o download e importa\u00e7\u00e3o do cont\u00e2iner docker onde todas as depend\u00eancias do projeto j\u00e1 est\u00e3o devidamente ajustadas e executar os passos necess\u00e1rios para compilar e disponibilizar a aplica\u00e7\u00e3o no endere\u00e7o de IP informado na execu\u00e7\u00e3o do script na porta 3000 , assim como apresentado na imagem abaixo. Script completo com execu\u00e7\u00e3o completa para Produ\u00e7\u00e3o Por fim, tamb\u00e9m foi criado um script que realiza todos os passos abordados nas se\u00e7\u00f5es Deployment do OWS Server e Deployment da Plataforma de Conhecimento do Cerrado . Para tal, basta executar em Terminal. $ ./start-dpat+ows.sh Ap\u00f3s execu\u00e7\u00e3o dos scripts o OWS Server estar\u00e1 executando na m\u00e1quina do usu\u00e1rio na porta 5000 e a Plataforma de Conhecimento do Cerrado tamb\u00e9m na m\u00e1quina do usu\u00e1rio na porta 3000 .","title":"Deployment da arquitetura do CEPF"},{"location":"02-arq_execucao_dpat.html#introducao","text":"Conforme detalhado na se\u00e7\u00e3o Arquitetura de Software , para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado s\u00e3o necess\u00e1rias 3 estruturas criadas e funcionais na m\u00e1quina do usu\u00e1rio: O Banco de Dados lapig restaurado no servi\u00e7o do PostgreSQL devidamente instalado com a extens\u00e3o PostGis. O servi\u00e7o OWS Server devidamente configurado e executando em um IP e porta. O Application Server e client (Front-end) da aplica\u00e7\u00e3o compilados e executando.","title":"Introdu\u00e7\u00e3o"},{"location":"02-arq_execucao_dpat.html#restaurando-e-disponibilizando-o-banco-de-dados-lapig","text":"Para restaurar o banco lapig no PostgreSQL, \u00e9 necess\u00e1rio ter o servi\u00e7o PostgreSQL executando na m\u00e1quina do usu\u00e1rio. Para tal, pode-se utilizar o tutorial neste link para instalar e executar o PostgreSQL e o PGAdmin3. Ao final do tutorial, deve-se verificar qual a vers\u00e3o do PostgreSQL instalado (ver: link ) e tamb\u00e9m instalar a extens\u00e3o do Postgis para a vers\u00e3o adequada de acordo com o tutorial deste link no Step 4: Install PostGIS on Ubuntu 20.04/18.04 / Debian 10 . Com o PostgreSQL e o PostGIS instalados, em seguida \u00e9 necess\u00e1rio realizar o download do \u00faltimo backup disponibilizado no endere\u00e7o e extra\u00ed-lo. $ tar -xfv BKP_BANCO_DADOS_LAPIG.tar.gz Em seguida, deve-se exportar a vari\u00e1vel de senha do banco de dados configurada anteriormente. $ export PGPASSWORD= <db_password> Ap\u00f3s exporta\u00e7\u00e3o da senha, deve criar o banco de dados no servi\u00e7o PostgreSQL. Este passo pode ser realizado por linha de comando ou com ajuda do PGAdmin3. Ambos os passos est\u00e3o demonstrados abaixo. $ psql -h <host_address> -U <db_user> -c \"create database lapig;\" Ap\u00f3s a cria\u00e7\u00e3o do banco de dados, deve-se criar as extens\u00f5es do PostGis e PlPGSql para uso das fun\u00e7\u00f5es na aplica\u00e7\u00e3o. $ psql -h <host_address> -U <db_user> -d lapig -c \"create extension postgis;\" $ psql -h <host_address> -U <db_user> -d lapig -c \"create extension plpgsql;\" Agora de fato pode-se restaurar o banco de dados baixado e extra\u00eddo para a database lapig criada, o que pode ser alcan\u00e7ada atrav\u00e9s do comando. $ pg_restore -U lapig -h <host_address> -v -j 24 --format=d -C -d lapig lapig.sql/","title":"Restaurando e disponibilizando o banco de dados lapig"},{"location":"02-arq_execucao_dpat.html#deployment-da-aplicacao-plataforma-de-conhecimento-do-cerrado","text":"Para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado \u00e9 importante ressaltar que o Banco de Dados deve estar restaurado e acess\u00edvel conforme abordado na se\u00e7\u00e3o e tamb\u00e9m deve-se ter o OWS Server funcionando corretamente. Conforme mencionado anteriormente, a estrutura do OWS Server foi constru\u00edda com o apoio do Docker , portanto para instala\u00e7\u00e3o do mesmo, deve-se seguir os passos definidos nos tutoriais de acordo com o sistema operacional, seja ele Debian ou CentOS . Al\u00e9m do Docker, o script tamb\u00e9m faz uso das seguintes depend\u00eancias: Depend\u00eancia Tutorial para Instala\u00e7\u00e3o Perl https://learn.perl.org/installing/unix_linux.html wget https://www.cyberciti.biz/faq/how-to-install-wget-togetrid-of-error-bash-wget-command-not-found/ curl https://www.cyberciti.biz/faq/how-to-install-curl-command-on-a-ubuntu-linux/ Git https://gist.github.com/derhuerst/1b15ff4652a867391f03 Docker https://docs.docker.com/get-docker/ Docker Compose https://docs.docker.com/compose/install/ A seguir ser\u00e1 abordado duas maneiras de executar a aplica\u00e7\u00e3a Plataforma de Conhecimento do Cerrado em ambientes de Desenvolvimento e Produ\u00e7\u00e3o. Para o ambiente de desenvolvimento ser\u00e1 detalhado um passo a passo partindo do pressuposto que um programador ir\u00e1 dar manuten\u00e7\u00e3o ou continuidade na Plataforma de Conhecimento do Cerrado. J\u00e1 o ambiente de produ\u00e7\u00e3o, ser\u00e1 disponibilizado um script que executa todos os passos para disponibilizar a Plataforma de Conhecimento do Cerrado em uma porta da m\u00e1quina que est\u00e1 sendo executado. Em seguida, certifique-se de criar corretamente um arquivo .env conforme abordado na se\u00e7\u00e3o . Um exemplo de arquivo .env criado durante o processo de execu\u00e7\u00e3o do script para o ambiente de Produ\u00e7\u00e3o pode ser observado abaixo: APP_PRODUCAO='/data/dados-lapig/dpat-files' APP_PRODUCAO_CEPF='/data/dados-lapig/cepf-files' CLIENT_DIR='/../client/dist/lapig-cepf-cerrado/' LANG_DIR='/lang' LOG_DIR='/log/' TMP='/tmp/' FIELD_DATA_DIR='/media/campo/' UPLOAD_DATA_DIR='/uploads/' DOWNLOAD_DIR='/data/dados-lapig/download_atlas/' DOWNLOAD_DATA_DIR='/downloads-cepf/' PG_USER='db_user' PG_HOST='127.0.0.1' PG_DATABASE='lapig' PG_PASSWORD='db_password' PG_PORT='db_port' PG_DEBUG=true PORT=3000 OWS_HOST='http://172.18.0.8:5000' OWS_DOMAINS='http://172.18.0.8:5000'","title":"Deployment da aplica\u00e7\u00e3o Plataforma de Conhecimento do Cerrado"},{"location":"02-arq_execucao_dpat.html#ambiente-de-desenvolvimento","text":"Assim como abordado na se\u00e7\u00e3o , a Plataforma de Conhecimento do Cerrado foi constru\u00eddo com NodeJS como Application Server e Angular como cliente ( WebMap Client ). Portanto, primeiramente \u00e9 necess\u00e1ria a instala\u00e7\u00e3o destes componentes na m\u00e1quina do desenvolvedor. Para tal, pode-se seguir o passo-a-passo elaborado neste link Para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado em ambiente de desenvolvimento, primeiramente \u00e9 necess\u00e1rio realizar um fork do projeto para a sua conta pessoal do Github e em seguida executar um git clone do reposit\u00f3rio do projeto . Para inicializar o servidor de aplica\u00e7\u00e3o ( Application Server ) deve-se executar o passo-a-passo descrito na se\u00e7\u00e3o . A execu\u00e7\u00e3o da mesma ir\u00e1 inicializar o Application Server em localhost na porta 3000. Em seguida, para inicializar o WebMap Client localizado na pasta src/client , basta navegar at\u00e9 a pasta client e instalar as depend\u00eancias listadas no package.json atrav\u00e9s do comando: $ npm install Ap\u00f3s a devida instala\u00e7\u00e3o das depend\u00eancias, pode-se ent\u00e3o compilar e inicializar a aplica\u00e7\u00e3o. Mais uma vez, a fim de facilitar, foi criado um script start.sh para inicializar o WebMap Client , portanto basta executar: $ ./src/client/start.sh Ao finalizar a compila\u00e7\u00e3o do projeto, a aplica\u00e7\u00e3o estar\u00e1 executando em localhost na porta padr\u00e3o do Angular, que \u00e9 a porta 4200. Portanto, para acessar a p\u00e1gina Web criada pela aplica\u00e7\u00e3o, acesse pelo navegador: http://localhost:4200","title":"Ambiente de Desenvolvimento"},{"location":"02-arq_execucao_dpat.html#ambiente-de-producao","text":"Em seguida, uma segunda maneira de disponibilizar a Plataforma de Conhecimento do Cerrado \u00e9 em ambiente de produ\u00e7\u00e3o. \u00c9 importante ressaltar que o OWS Server deve estar executando para que a Plataforma de Conhecimento do Cerrado fa\u00e7a as requisi\u00e7\u00f5es de imagens das diferentes camadas utilizadas pelo sistema. Para facilitar o processo de deployment em produ\u00e7\u00e3o, foi criado um script que realiza todos os passos necess\u00e1rios para execu\u00e7\u00e3o da Plataforma de Conhecimento do Cerrado em produ\u00e7\u00e3o. Para executar o script basta executar em um Terminal: $ ./start-cepf+ows.sh Assim como detalhado na se\u00e7\u00e3o de Deployment do OWS Server , este script ir\u00e1 pedir ao usu\u00e1rio que informe os par\u00e2metros endere\u00e7o, nome, porta, usu\u00e1rio e senha do Banco de Dados, de forma a alterar corretamente o arquivo de configura\u00e7\u00e3o do ambiente, .env corretamente. Em seguida, ap\u00f3s pedir as informa\u00e7\u00f5es do Banco de Dados, o script ir\u00e1 pedir ao usu\u00e1rio que informe o local onde a estrutura de pastas da Plataforma de Conhecimento do Cerrado dever\u00e1 ser criada e tamb\u00e9m qual o endere\u00e7o de IP da m\u00e1quina de produ\u00e7\u00e3o onde ser\u00e1 realizado o deployment assim como informado nas imagens abaixo. Basicamente o script dever\u00e1 criar e ajustar automaticamente as vari\u00e1veis de ambiente da Plataforma de Conhecimento do Cerrado, realizar o download e importa\u00e7\u00e3o do cont\u00e2iner docker onde todas as depend\u00eancias do projeto j\u00e1 est\u00e3o devidamente ajustadas e executar os passos necess\u00e1rios para compilar e disponibilizar a aplica\u00e7\u00e3o no endere\u00e7o de IP informado na execu\u00e7\u00e3o do script na porta 3000 , assim como apresentado na imagem abaixo.","title":"Ambiente de Produ\u00e7\u00e3o"},{"location":"02-arq_execucao_dpat.html#script-completo-com-execucao-completa-para-producao","text":"Por fim, tamb\u00e9m foi criado um script que realiza todos os passos abordados nas se\u00e7\u00f5es Deployment do OWS Server e Deployment da Plataforma de Conhecimento do Cerrado . Para tal, basta executar em Terminal. $ ./start-dpat+ows.sh Ap\u00f3s execu\u00e7\u00e3o dos scripts o OWS Server estar\u00e1 executando na m\u00e1quina do usu\u00e1rio na porta 5000 e a Plataforma de Conhecimento do Cerrado tamb\u00e9m na m\u00e1quina do usu\u00e1rio na porta 3000 .","title":"Script completo com execu\u00e7\u00e3o completa para Produ\u00e7\u00e3o"},{"location":"02-arq_geral.html","text":"Arquitetura de software A plataforma de conhecimento do Cerrado foi desenvolvida de acordo com os padr\u00f5es de interoperabilidade definidos pela Open Geospatial Consortium ( OGC ) e a arquitetura de webservices com o padr\u00e3o REST . Componentes de software A arquitetura de software desenvolvida para a Plataforma de Conhecimento do Cerrado pode ser observada na Figura abaixo. Essencialmente, pode-se dividir a Plataforma de Conhecimento do Cerrado em tr\u00eas partes: Client: respons\u00e1vel por apresentar toda a interface, constru\u00eddo em Angular 8 com apoio dos frameworks: WebMap: Mapa interativo constru\u00eddo com o OpenLayers Componentes front-end : Bootstrap 4 , Material e PrimeNG . Server: Disponibiliza os servi\u00e7os que comp\u00f5em a aplica\u00e7\u00e3o: Application Server: Disponibiliza o acesso aos dados do Data Source, an\u00e1lises e configura\u00e7\u00f5es. OWS Server : Disponibiliza o acesso ao MapServer , respons\u00e1vel pelo processamento dos dados geogr\u00e1ficos, apresenta\u00e7\u00e3o visual dos mesmos e gerenciamento de cache das imagens geradas. Data Source : Respons\u00e1vel por armazenar os dados vetoriais. Resumidamente, todos os dados usados pela Plataforma de Conhecimento do Cerrado est\u00e3o organizados em um banco de dados PostgreSQL. O PostgreSQL utiliza a extens\u00e3o PostGIS que permite processar consultas espaciais via Structured Query Language (SQL). Estes dados s\u00e3o acessados pelo Application Server e pelo OWS Server (ambos constru\u00eddos em NodeJS) e s\u00e3o disponibilizados atrav\u00e9s de URLs com requisi\u00e7\u00f5es por meio do protocolo HTTP . Todas as requisi\u00e7\u00f5es Web realizadas aos Servers s\u00e3o interceptadas pelo Apache Server e devidamente redirecionadas. Desta forma, o Client realiza todas as requisi\u00e7\u00f5es necess\u00e1rias para construir a visualiza\u00e7\u00e3o dos elementos da p\u00e1gina, tais como: mapa interativo, gr\u00e1ficos, campo de busca e etc. Por fim, destaca-se que todo o c\u00f3digo-fonte para a Plataforma de Conhecimento do Cerrado e tamb\u00e9m para o OWS Server foi disponibilizado publicamente no Github do LAPIG/UFG .","title":"Vis\u00e3o geral"},{"location":"02-arq_geral.html#arquitetura-de-software","text":"A plataforma de conhecimento do Cerrado foi desenvolvida de acordo com os padr\u00f5es de interoperabilidade definidos pela Open Geospatial Consortium ( OGC ) e a arquitetura de webservices com o padr\u00e3o REST .","title":"Arquitetura de software"},{"location":"02-arq_geral.html#componentes-de-software","text":"A arquitetura de software desenvolvida para a Plataforma de Conhecimento do Cerrado pode ser observada na Figura abaixo. Essencialmente, pode-se dividir a Plataforma de Conhecimento do Cerrado em tr\u00eas partes: Client: respons\u00e1vel por apresentar toda a interface, constru\u00eddo em Angular 8 com apoio dos frameworks: WebMap: Mapa interativo constru\u00eddo com o OpenLayers Componentes front-end : Bootstrap 4 , Material e PrimeNG . Server: Disponibiliza os servi\u00e7os que comp\u00f5em a aplica\u00e7\u00e3o: Application Server: Disponibiliza o acesso aos dados do Data Source, an\u00e1lises e configura\u00e7\u00f5es. OWS Server : Disponibiliza o acesso ao MapServer , respons\u00e1vel pelo processamento dos dados geogr\u00e1ficos, apresenta\u00e7\u00e3o visual dos mesmos e gerenciamento de cache das imagens geradas. Data Source : Respons\u00e1vel por armazenar os dados vetoriais. Resumidamente, todos os dados usados pela Plataforma de Conhecimento do Cerrado est\u00e3o organizados em um banco de dados PostgreSQL. O PostgreSQL utiliza a extens\u00e3o PostGIS que permite processar consultas espaciais via Structured Query Language (SQL). Estes dados s\u00e3o acessados pelo Application Server e pelo OWS Server (ambos constru\u00eddos em NodeJS) e s\u00e3o disponibilizados atrav\u00e9s de URLs com requisi\u00e7\u00f5es por meio do protocolo HTTP . Todas as requisi\u00e7\u00f5es Web realizadas aos Servers s\u00e3o interceptadas pelo Apache Server e devidamente redirecionadas. Desta forma, o Client realiza todas as requisi\u00e7\u00f5es necess\u00e1rias para construir a visualiza\u00e7\u00e3o dos elementos da p\u00e1gina, tais como: mapa interativo, gr\u00e1ficos, campo de busca e etc. Por fim, destaca-se que todo o c\u00f3digo-fonte para a Plataforma de Conhecimento do Cerrado e tamb\u00e9m para o OWS Server foi disponibilizado publicamente no Github do LAPIG/UFG .","title":"Componentes de software"},{"location":"02-arq_servidor_de_aplicacao.html","text":"Servidor de Aplica\u00e7\u00e3o Basicamente a plataforma de conhecimento do cerrado \u00e9 dividida em duas partes: o WebMap Client e o Application Server , conforme descrito anteriormente. O c\u00f3digo-fonte para estas duas partes est\u00e1 hospedado no resposit\u00f3rio Github do projeto. Dentro do reposit\u00f3rio do projeto, o c\u00f3digo-fonte do Application Server est\u00e1 em src/server . Por ser constru\u00eddo em NodeJS, ao clonar o projeto o usu\u00e1rio dever\u00e1 navegar at\u00e9 a pasta server e instalar as depend\u00eancias gerenciadas pelo Node Package Manager (NPM) atrav\u00e9s do comando: npm install Em seguida, deve-se copiar o arquivo .env.exemple renomeando-o para .env: cp .env.exemple .env Em seguida, deve-se alterar o arquivo .env com as devidas configura\u00e7\u00f5es e par\u00e2metros referentes ao banco de dados, pastas para armazenamento dos arquivos de Upload e Download e endere\u00e7o de hospedagem do OWS Server. Um exemplo de arquivo .env pode ser observado na se\u00e7\u00e3o Por fim, a fim de facilitar a execu\u00e7\u00e3o do Application Server foi desenvolvido um script nomeado start.sh localizado na raiz da pasta src/server . Portanto, basta realizar a execu\u00e7\u00e3o deste arquivo para inicializar o Application Server . A fim de identificar modifica\u00e7\u00f5es em tempo real, o Application Server faz uso da biblioteca always , portanto talvez seja necess\u00e1rio a instala\u00e7\u00e3o da mesma atrav\u00e9s do comando. $ sudo npm install always -g Ap\u00f3s a instala\u00e7\u00e3o do always , pode-se inicializar o Application Server atrav\u00e9s do comando: $ ./src/server/start.sh Middleware para manipula\u00e7\u00e3o do banco de dados Para facilitar a cria\u00e7\u00e3o de servi\u00e7os que fazem uso de consultas ao banco de dados foi criado um middleware nomeado dataInjector.js que cria um pool de conex\u00f5es para execu\u00e7\u00e3o de diversas queries simult\u00e2neas. O dataInjector.js analisa a URL da requisi\u00e7\u00e3o HTTP de modo a associar a fun\u00e7\u00e3o que especifica a query (por meio da tupla {id, sql}) com o controlador que ir\u00e1 devolver a resposta da requisi\u00e7\u00e3o. Portanto, todas as URLs dever\u00e3o ser criadas no seguinte padr\u00e3o: '/service/<nome_arquivo_js_com_query>/<nome_funcao_executada>' Como criar um novo servi\u00e7o O Application Server possui tr\u00eas pastas que armazenam os principais arquivos que permitem a disponibiliza\u00e7\u00e3o de um novo servi\u00e7o aa plataforma de conhecimento do cerrado: Controller: : Os arquivos nesta pasta s\u00e3o respons\u00e1veis por processar implementar a l\u00f3gica da tarefa passada pela requisi\u00e7\u00e3o HTTP. Database : Os arquivos nesta pasta s\u00e3o respons\u00e1veis por implementar os m\u00e9todos com as queries a serem executadas no banco de dados. Devido a estrutura do dataInjector.js , mais de uma query poder\u00e1 ser executada durante uma mesma requisi\u00e7\u00e3o. Routes : Os arquivos desta pasta s\u00e3o os respons\u00e1veis por criar as URLs de acesso (endpoint) a um servi\u00e7o, apontar qual o controlador dever\u00e1 processar a l\u00f3gica para a requisi\u00e7\u00e3o e, caso necess\u00e1rio, injetar o acesso ao banco de dados. Portanto, supondo que queremos criar um novo servi\u00e7o para retornar os maiores desmatamentos em um determinado ano detectado pelo PRODES-Cerrado \u00e9 necess\u00e1rio criar/alterar os seguintes arquivos: server/routes/example.js module.exports = function (app) { var dataInjector = app.middleware.dataInjector var example = app.controllers.examplecontroller; app.get('/service/examplequery/largest', dataInjector, example.largest); } Ap\u00f3s a cria\u00e7\u00e3o do endpoint de acesso, basta criar o arquivo com as fun\u00e7\u00f5es desta classe de queries ( examplequery.js ) e a fun\u00e7\u00e3o ( Query.largest ) que ir\u00e1 executar a query especificada. Vale ressaltar que dever\u00e1 ser passado dois par\u00e2metros pela requisi\u00e7\u00e3o, o year e o amount , que indicam de qual ano e a quantidade de desmatamentos que o usu\u00e1rio quer encontrar. server/database/queries/examplequery.js module.exports = function (app) { var Query = {}; Query.largest = function (params) { return [{ id: 'largest_id', sql: \"SELECT view_date,county,uf, ST_ASGEOJSON(geom) FROM prodes_cerrado WHERE year = ${year} ORDER BY areamunkm DESC LIMIT ${amount}\" }] }; return Query; } Ap\u00f3s a constru\u00e7\u00e3o do m\u00e9todo e a query , basta criar o controlador examplecontroller.js para receber a requisi\u00e7\u00e3o, realizar a chamada ao m\u00e9todo para execu\u00e7\u00e3o da query , coletar o resultado e enviar como resposta da requisi\u00e7\u00e3o. server/controllers/examplecontroller.js module.exports = function (app) { const config = app.config; var Controller = {} Controller.largest = function (request, response) { var queryResult = request.queryResult['largest_id'] response.send(queryResult) response.end() } return Controller; } Por fim, este por se tratar de uma requisi\u00e7\u00e3o HTTP do tipo GET , a mesma poder\u00e1 ser acessada via navegador. Considerando que o server est\u00e1 executando em localhost:3000 e o usu\u00e1rio deseja encontrar os 15 maiores desmatamentos detectados pelo PRODES-Cerrado em 2019, a URL de acesso ficar\u00e1 da seguinte forma: http://localhost:3000/service/examplequery/largest?year=2019&amount=15 Al\u00e9m de requisitar pelo navegador, o servi\u00e7o tamb\u00e9m poder\u00e1 ser requisitado pelo WebMap Client a fim de disponibilizar este dado na plataforma de conhecimento do cerrado. Para tal, o mesmo poder\u00e1 ser feito via biblioteca HttpClient do Angular e assim obter o arquivo JSON com os dados processados. Considerando que a vari\u00e1vel http foi devidadmente injetada no construtor da classe do Angular, o m\u00e9todo getLargest() abaixo dever\u00e1 realizar a requisi\u00e7\u00e3o e armazenar seu resultado na vari\u00e1vel dados_largest : client/src/app/views/map.component.ts getLargest() { let url = '/service/examplequery/largest?year=2019&amount=15' this.http.get(url).subscribe(r => { this.dados_largest = r; }); }","title":"Servidor de aplica\u00e7\u00e3o"},{"location":"02-arq_servidor_de_aplicacao.html#servidor-de-aplicacao","text":"Basicamente a plataforma de conhecimento do cerrado \u00e9 dividida em duas partes: o WebMap Client e o Application Server , conforme descrito anteriormente. O c\u00f3digo-fonte para estas duas partes est\u00e1 hospedado no resposit\u00f3rio Github do projeto. Dentro do reposit\u00f3rio do projeto, o c\u00f3digo-fonte do Application Server est\u00e1 em src/server . Por ser constru\u00eddo em NodeJS, ao clonar o projeto o usu\u00e1rio dever\u00e1 navegar at\u00e9 a pasta server e instalar as depend\u00eancias gerenciadas pelo Node Package Manager (NPM) atrav\u00e9s do comando: npm install Em seguida, deve-se copiar o arquivo .env.exemple renomeando-o para .env: cp .env.exemple .env Em seguida, deve-se alterar o arquivo .env com as devidas configura\u00e7\u00f5es e par\u00e2metros referentes ao banco de dados, pastas para armazenamento dos arquivos de Upload e Download e endere\u00e7o de hospedagem do OWS Server. Um exemplo de arquivo .env pode ser observado na se\u00e7\u00e3o Por fim, a fim de facilitar a execu\u00e7\u00e3o do Application Server foi desenvolvido um script nomeado start.sh localizado na raiz da pasta src/server . Portanto, basta realizar a execu\u00e7\u00e3o deste arquivo para inicializar o Application Server . A fim de identificar modifica\u00e7\u00f5es em tempo real, o Application Server faz uso da biblioteca always , portanto talvez seja necess\u00e1rio a instala\u00e7\u00e3o da mesma atrav\u00e9s do comando. $ sudo npm install always -g Ap\u00f3s a instala\u00e7\u00e3o do always , pode-se inicializar o Application Server atrav\u00e9s do comando: $ ./src/server/start.sh","title":"Servidor de Aplica\u00e7\u00e3o"},{"location":"02-arq_servidor_de_aplicacao.html#middleware-para-manipulacao-do-banco-de-dados","text":"Para facilitar a cria\u00e7\u00e3o de servi\u00e7os que fazem uso de consultas ao banco de dados foi criado um middleware nomeado dataInjector.js que cria um pool de conex\u00f5es para execu\u00e7\u00e3o de diversas queries simult\u00e2neas. O dataInjector.js analisa a URL da requisi\u00e7\u00e3o HTTP de modo a associar a fun\u00e7\u00e3o que especifica a query (por meio da tupla {id, sql}) com o controlador que ir\u00e1 devolver a resposta da requisi\u00e7\u00e3o. Portanto, todas as URLs dever\u00e3o ser criadas no seguinte padr\u00e3o: '/service/<nome_arquivo_js_com_query>/<nome_funcao_executada>'","title":"Middleware para manipula\u00e7\u00e3o do banco de dados"},{"location":"02-arq_servidor_de_aplicacao.html#como-criar-um-novo-servico","text":"O Application Server possui tr\u00eas pastas que armazenam os principais arquivos que permitem a disponibiliza\u00e7\u00e3o de um novo servi\u00e7o aa plataforma de conhecimento do cerrado: Controller: : Os arquivos nesta pasta s\u00e3o respons\u00e1veis por processar implementar a l\u00f3gica da tarefa passada pela requisi\u00e7\u00e3o HTTP. Database : Os arquivos nesta pasta s\u00e3o respons\u00e1veis por implementar os m\u00e9todos com as queries a serem executadas no banco de dados. Devido a estrutura do dataInjector.js , mais de uma query poder\u00e1 ser executada durante uma mesma requisi\u00e7\u00e3o. Routes : Os arquivos desta pasta s\u00e3o os respons\u00e1veis por criar as URLs de acesso (endpoint) a um servi\u00e7o, apontar qual o controlador dever\u00e1 processar a l\u00f3gica para a requisi\u00e7\u00e3o e, caso necess\u00e1rio, injetar o acesso ao banco de dados. Portanto, supondo que queremos criar um novo servi\u00e7o para retornar os maiores desmatamentos em um determinado ano detectado pelo PRODES-Cerrado \u00e9 necess\u00e1rio criar/alterar os seguintes arquivos: server/routes/example.js module.exports = function (app) { var dataInjector = app.middleware.dataInjector var example = app.controllers.examplecontroller; app.get('/service/examplequery/largest', dataInjector, example.largest); } Ap\u00f3s a cria\u00e7\u00e3o do endpoint de acesso, basta criar o arquivo com as fun\u00e7\u00f5es desta classe de queries ( examplequery.js ) e a fun\u00e7\u00e3o ( Query.largest ) que ir\u00e1 executar a query especificada. Vale ressaltar que dever\u00e1 ser passado dois par\u00e2metros pela requisi\u00e7\u00e3o, o year e o amount , que indicam de qual ano e a quantidade de desmatamentos que o usu\u00e1rio quer encontrar. server/database/queries/examplequery.js module.exports = function (app) { var Query = {}; Query.largest = function (params) { return [{ id: 'largest_id', sql: \"SELECT view_date,county,uf, ST_ASGEOJSON(geom) FROM prodes_cerrado WHERE year = ${year} ORDER BY areamunkm DESC LIMIT ${amount}\" }] }; return Query; } Ap\u00f3s a constru\u00e7\u00e3o do m\u00e9todo e a query , basta criar o controlador examplecontroller.js para receber a requisi\u00e7\u00e3o, realizar a chamada ao m\u00e9todo para execu\u00e7\u00e3o da query , coletar o resultado e enviar como resposta da requisi\u00e7\u00e3o. server/controllers/examplecontroller.js module.exports = function (app) { const config = app.config; var Controller = {} Controller.largest = function (request, response) { var queryResult = request.queryResult['largest_id'] response.send(queryResult) response.end() } return Controller; } Por fim, este por se tratar de uma requisi\u00e7\u00e3o HTTP do tipo GET , a mesma poder\u00e1 ser acessada via navegador. Considerando que o server est\u00e1 executando em localhost:3000 e o usu\u00e1rio deseja encontrar os 15 maiores desmatamentos detectados pelo PRODES-Cerrado em 2019, a URL de acesso ficar\u00e1 da seguinte forma: http://localhost:3000/service/examplequery/largest?year=2019&amount=15 Al\u00e9m de requisitar pelo navegador, o servi\u00e7o tamb\u00e9m poder\u00e1 ser requisitado pelo WebMap Client a fim de disponibilizar este dado na plataforma de conhecimento do cerrado. Para tal, o mesmo poder\u00e1 ser feito via biblioteca HttpClient do Angular e assim obter o arquivo JSON com os dados processados. Considerando que a vari\u00e1vel http foi devidadmente injetada no construtor da classe do Angular, o m\u00e9todo getLargest() abaixo dever\u00e1 realizar a requisi\u00e7\u00e3o e armazenar seu resultado na vari\u00e1vel dados_largest : client/src/app/views/map.component.ts getLargest() { let url = '/service/examplequery/largest?year=2019&amount=15' this.http.get(url).subscribe(r => { this.dados_largest = r; }); }","title":"Como criar um novo servi\u00e7o"},{"location":"02-arq_servidor_de_mapas.html","text":"Servidor de Mapas O OWS Server \u00e9 respons\u00e1vel por encaminhar as requisi\u00e7\u00f5es ao Mapserver a fim de gerar a visualiza\u00e7\u00e3o dos dados geogr\u00e1ficos e organizar para que as imagens geradas sejam armazenadas em cache para melhorar o desempenho em requisi\u00e7\u00f5es futuras. O c\u00f3digo-fonte para o OWS Server se encontra no reposit\u00f3rio Github do LAPIG/UFG. Devido a facilidade em lidar com a arquitetura de WebServices, o c\u00f3digo em NodeJS foi criado para tamb\u00e9m realizar o controle de cache das imagens processadas pelo Mapserver. Para tal, uma customiza\u00e7\u00e3o foi criada a fim de se associar uma chave ( cacheKey ) a cada imagem de cada camada configurada no Mapserver. Esta imagem \u00e9 armazenada em um sistema de arquivos (pasta) chamada OWS-Cache , de modo que, em futuras requisi\u00e7\u00f5es para uma determinada imagem, \u00e9 verificada se a imagem j\u00e1 existe na OWS-Cache ou n\u00e3o. Caso exista, a imagem \u00e9 retornada na requisi\u00e7\u00e3o, caso n\u00e3o exista, o c\u00f3digo NodeJS envia a requisi\u00e7\u00e3o para o Mapserver processar e ger\u00e1-la, armazenando-a no OWS-Cache . O m\u00e9todo que realiza esta verifica\u00e7\u00e3o \u00e9 o m\u00e9todo OgcServer.ows que faz parte do Controlador da aplica\u00e7\u00e3o em NodeJS. src/controllers/ogc-server.js OgcServer.ows = function(request, response) { var params = Internal.getParams(request); response.setHeader(\"Access-Control-Allow-Origin\", \"*\"); Internal.setHeaders(params, request, response); var cacheKey = Internal.getCacheKey(params); if(cacheKey && (config['cacheEnable'] || Internal.isWmsGetCap(params)) ) { Internal.doRequestWithCache(cacheKey, params, response); } else { Internal.doRequest(params, response); } } Esta customiza\u00e7\u00e3o pode ser encontrada no c\u00f3digo NodeJS no reposit\u00f3rio espec\u00edfico para o c\u00f3digo NodeJS no Github . A configura\u00e7\u00e3o da pasta onde ser\u00e3o gerados os caches \u00e9 feita no arquivo config.js na linha 41 atrav\u00e9s da vari\u00e1vel cacheDir . Servi\u00e7o de interoperabilidade A interoperabilidade \u00e9 uma tecnologia que possibilita o compartilhamento de dados entre sistemas, independente do local f\u00edsico de armazenamento e da tecnologia utilizada em cada servidor de dados. No Geoprocessamento, a interoperabilidade pode ser aplicada para promover o interc\u00e2mbio de dados geogr\u00e1ficos entre diferentes softwares de SIG. O OCG (Open Geospatial Consortium, Inc.) \u00e9 uma organiza\u00e7\u00e3o que tem como objetivo principal viabilizar o interc\u00e2mbio de dados geogr\u00e1ficos atrav\u00e9s da cria\u00e7\u00e3o de especifica\u00e7\u00f5es que simplificam a intera\u00e7\u00e3o entre diferentes fontes de dados. Desta forma, os principais servi\u00e7os especificados pela OGC s\u00e3o: Web Map Service - WMS : produz mapas din\u00e2micos partir de dados georreferenciados em um servidor remoto. Esses mapas s\u00e3o geralmente apresentados no formato de figura (PNG, JPEG ou GIF). Tamb\u00e9m \u00e9 poss\u00edvel consultar os atributos dos elementos que comp\u00f5em os mapas. Web Feature Service - WFS : define um servi\u00e7o para recupera\u00e7\u00e3o de objetos ( features ) espaciais. Diferentemente do WMS, o WFS devolve o dado e n\u00e3o uma \"figura\" do dado. Tile Map Service - TMS : define um servi\u00e7o que fornece imagens de dados geogr\u00e1ficos a partir de URLs para por\u00e7\u00f5es ( tiles ) definidas pelo conjunto de coordenadas {z} {x} {y} do dado georeferenciado. O TMS \u00e9 mais amplamente suportado pelos navegadores Web. UTFGrid : usam uma combina\u00e7\u00e3o de codifica\u00e7\u00e3o JSON e arquivos grid ASCII que est\u00e3o ao lado de cada bloco de imagem do mapa. Desta forma, uma tabela de pesquisa em JSON fornece o conjunto completo de atributos que viabiliza a devolu\u00e7\u00e3o de dados sobre aquele grid, permitindo interatividade com o mapas. Desta forma, uma representa\u00e7\u00e3o visual da interoperabilidade entre servi\u00e7os pode ser encontrada no link e apresentada abaixo. Por fim, a tabela abaixo apresenta os tipos de servi\u00e7os fornecidos pela plataforma de conhecimento do cerrado bem como suas URLs de acesso, onde <ows_host> representa o dom\u00ednio onde o OWS Server est\u00e1 hospedado e <layername> representa a camada configurada no Mapfile: Tipo de Requisi\u00e7\u00e3o Fonte Descri\u00e7\u00e3o URL WMS OWS Server Retorna uma imagem com a legenda da camada ( <layername> ) especificada no mapfile .. https://<ows_host>/ows?TRANSPARENT=TRUE&VERSION=1.1.1&SERVICE=WMS&REQUEST=GetLegendGraphic&layer=<layername>&format=image/png WMS OWS Server Retorna uma imagem com a composi\u00e7\u00e3o de camadas identificadas pelas layers, com o foco no enquadramento para a geometria definida pela fun\u00e7\u00e3o ST_EXTENT do Postgis. Por fim, o par\u00e2metro <sql_applied_on_MSFILTER> especifica a query que dever\u00e1 ser aplicada para filtrar dados em todas as camadas que possuam MSFILTER em sua configura\u00e7\u00e3o no Mapserver. https://<ows_host>/ows?SERVICE=WMS&REQUEST=GetMap&VERSION=1.1.1&layers=<layername1>,<layername2>, ... &bbox=<bounding_box>&TRANSPARENT=TRUE&srs=EPSG:4674&width=768&height=768&format=image/png&styles=&ENHANCE=TRUE&MSFILTER=<sql_applied_on_MSFILTER> TMS OWS Server Retorna uma imagem com a composi\u00e7\u00e3o de camadas identificadas pelas layers, com o foco no enquadramento para a geometria definida pela fun\u00e7\u00e3o ST_EXTENT do Postgis. Por fim, o par\u00e2metro <sql_applied_on_MSFILTER> especifica a query que dever\u00e1 ser aplicada para filtrar dados em todas as camadas que possuam MSFILTER em sua configura\u00e7\u00e3o no Mapserver. https://<ows_host>/ows?layers=<layername>&MSFILTER=<sql_applied_on_MSFILTER>&mode=tile&tile=<{z}>+<{x}>+<{y}>&tilemode=gmap&map.imagetype=png TMS Mapbox Retorna a composi\u00e7\u00e3o do mapa Geopol\u00edtico fornecido pela Mapbox https://api.tiles.mapbox.com/v4/mapbox.light/<{z}>/<{x}>/<{y}>.png?access_token=<chave_de_acesso>. TMS Google Maps Retorna a composi\u00e7\u00e3o de imagens do mapa fornecido pela API do GoogleMaps. https://mt{0-3}.google.com/vt/lyrs=m&x=<{x}>&y=<{y}>&z=<{z}> TMS World Shaded Relief Retorna a composi\u00e7\u00e3o de mapas de Relevo fornecido pelo ArcGis. https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/<{z}>/<{y}>/<{x}> UTFGrid OWS Server Retorna os dados referentes aos atributos definidos na camada fornecida pelo OWS Server para o especificado na requisi\u00e7\u00e3o para o tile {z},{x},{y}. https://<ows_host>/ows?layers=<layername>&MSFILTER=<sql_applied_on_MSFILTER>&mode=tile&tile=<{z}>+<{x}>+<{y}>&tilemode=gmap&map.imagetype=utfgrid Processo de atualiza\u00e7\u00e3o Um dado geogr\u00e1fico \u00e9 disponbilizado pelo Mapserver como uma camada. Assim como abordado na se\u00e7\u00e3o de servi\u00e7os de interoperabilidade os dados devem estar armazenados em uma pasta de cat\u00e1logo dos dados (pasta catalog) configur\u00e1vel no arquivo config.js atrav\u00e9s da vari\u00e1vel cacheDir . O Mapserver utiliza um arquivo de configura\u00e7\u00e3o para renderiza\u00e7\u00e3o de dados geoespaciais chamado de Mapfile. O principal objetivo do Mapfile \u00e9 definir as camadas que podem ser \"desenhadas\" pelo Mapserver, como ler estes dados (uma vez que eles podem ser vetores ou matrizes) e como renderiz\u00e1-los, definindo cores, s\u00edmbolos, r\u00f3tulos, legendas e etc. Desta forma, o Mapfile inclui informa\u00e7\u00f5es sobre: Quais camadas devem ser renderizadas; Onde est\u00e1 o foco geogr\u00e1fico do mapa; Qual proje\u00e7\u00e3o est\u00e1 sendo usada; Qual o formato gr\u00e1fico de sa\u00edda; Configura\u00e7\u00e3o da legenda e a escala utilizada; A figura abaixo apresenta o Mapfile da camada de Agricultura da Agrosat\u00e9lite presente na plataforma de conhecimento do cerrado. Esta mesma figura pode representar um exemplo pr\u00e1tico para cria\u00e7\u00e3o de um Mapfile com conex\u00e3o com Banco de Dados e assim obter dados em formato vetorial. Portanto, segue a especifica\u00e7\u00e3o de cada item destacado na imagem: Apresenta o nome da camada, bem como a fonte de onde este dado ser\u00e1 carregado. No exemplo este dado \u00e9 acessado pela comunica\u00e7\u00e3o com Postgis devidamente autenticado; Determina o foco do dado para a extens\u00e3o do Cerrado; Apresenta os metadados da camada; Define a proje\u00e7\u00e3o do dado apresentado; Define o tipo do dado apresentado; Cria uma vari\u00e1vel para valida\u00e7\u00e3o e filtragem dos dados por meio do runtime substitution ; Define a estrutura dos dados que s\u00e3o enviados via UTFGrid. Para tal \u00e9 importante definir um identificador \u00fanico (UTFITEM) e os dados a serem enviados atrav\u00e9s da tupla {\"chave_acesso\" : \"coluna_banco_dados\"} em UTFDATA que ir\u00e3o compor o JSON gerado. Define uma classifica\u00e7\u00e3o para os dados a fim de customizar a colora\u00e7\u00e3o de acordo com um crit\u00e9rio. A classifica\u00e7\u00e3o estabelecida tamb\u00e9m ir\u00e1 compor a legenda. Por fim, o Mapfile utilizado para disponibilizar todas as camadas presentes na plataforma de conhecimento do cerrado est\u00e1 na pasta compartilhada do projeto no link . Disponibiliza\u00e7\u00e3o da camada no Application Server Ap\u00f3s a cria\u00e7\u00e3o da camada no OWS Server, para que esta camada seja apresentada na interface Web da plataforma de conhecimento do cerrado \u00e9 necess\u00e1ria a sua inser\u00e7\u00e3o no Application Server . A fim de facilitar a disponibiliza\u00e7\u00e3o de diversas camadas, foi criada uma estrutura nomeada de descriptor que descreve as principais configura\u00e7\u00f5es de uma camada a ser apresentada na plataforma de conhecimento do cerrado, tais como: filtros de dados, tipos diferentes de camadas e outros. A estrutura completa do descriptor encontra-se no reposit\u00f3rio do projeto no Github, especificamente no arquivo map.js . Segue abaixo as configura\u00e7\u00f5es da camada apresentada acima dentro da estrutura do descriptor. A camada agricultura_agrosatelite representa um dado vetorial no qual \u00e9 poss\u00edvel aplicar diversos filtros. A vari\u00e1vel languageJson representa o acesso ao arquivo .json respons\u00e1vel pela internacionaliza\u00e7\u00e3o da aplica\u00e7\u00e3o, ou seja, apresenta textos em diferentes idiomas de acordo com o valor recebido como par\u00e2metro language . Controller.descriptor = function(request, response) { var language = request.param('lang') var result = { \"regionFilterDefault\": \"bioma='CERRADO'\", \"groups\": [{ \"id\": \"agropecuaria\", \"label\": languageJson[\"title_group_label\"][\"agropecuaria\"][language], \"group_expanded\": false, \"layers\": [{ \"id\": \"mapa_agricultura_agrosatelite\", \"label\": languageJson[\"title_layer_label\"][\"agrosatelite\"][language], \"visible\": false, \"selectedType\": 'agricultura_agrosatelite', \"value\": \"agricultura_agrosatelite\", \"opacity\": 1, \"regionFilter\": true, \"order\": 2, \"typeLabel\": languageJson[\"typelabel_layer\"][\"type\"][language], \"timeLabel\": languageJson[\"typelabel_layer\"][\"year\"][language], \"timeSelected\": \"year=2014\", \"timeHandler\": \"msfilter\", \"times\": [ {\"value\": \"year=2001\", \"Viewvalue\": 2001}, {\"value\": \"year=2007\", \"Viewvalue\": 2007}, {\"value\": \"year=2014\", \"Viewvalue\": 2014} ], \"metadados\": { \"title\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"title\"][language], \"description\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"description\"][language], \"format\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"format\"][language], \"region\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"region\"][language], \"period\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"period\"][language], \"scale\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"scale\"][language], \"system_coordinator\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"system_coordinator\"][language], \"cartographic_projection\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"cartographic_projection\"][language], \"cod_caracter\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"cod_caracter\"][language], \"fonte\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"fonte\"][language], \"contato\":\"lapig.cepf@gmail.com\" }, \"columnsCSV\": \"area_ha, classe, year\", \"downloadSHP\": true, \"downloadCSV\": true } ], \"dataService\": \"/service/charts/farming\" }] }] }; response.send(result); response.end(); }; Os diversos par\u00e2metros setados na vari\u00e1vel result s\u00e3o interpretados pela aplica\u00e7\u00e3o Front-end em Angular, de modo a criar a interface apresentada na imagem abaixo. Dentre estes par\u00e2metros, destaca-se o layers que ir\u00e3o indicar quais camadas estar\u00e3o no card Agropecu\u00e1ria . No exemplo acima, est\u00e1 selecionada a camada agricultura_agrosatelite atrav\u00e9s da vari\u00e1vel selectedType . Por fim, destaca-se o vetor do par\u00e2metro times , que apresenta diversos filtros que podem ser aplicados em um tipo de layer espec\u00edfico. No exemplo acima, ele \u00e9 utilizado para filtrar o dado por ano, aplicando a query apresentada em value (de cada filtro) como par\u00e2metro MSFILTER na camada descrita no Mapserver.","title":"Servidor de mapas"},{"location":"02-arq_servidor_de_mapas.html#servidor-de-mapas","text":"O OWS Server \u00e9 respons\u00e1vel por encaminhar as requisi\u00e7\u00f5es ao Mapserver a fim de gerar a visualiza\u00e7\u00e3o dos dados geogr\u00e1ficos e organizar para que as imagens geradas sejam armazenadas em cache para melhorar o desempenho em requisi\u00e7\u00f5es futuras. O c\u00f3digo-fonte para o OWS Server se encontra no reposit\u00f3rio Github do LAPIG/UFG. Devido a facilidade em lidar com a arquitetura de WebServices, o c\u00f3digo em NodeJS foi criado para tamb\u00e9m realizar o controle de cache das imagens processadas pelo Mapserver. Para tal, uma customiza\u00e7\u00e3o foi criada a fim de se associar uma chave ( cacheKey ) a cada imagem de cada camada configurada no Mapserver. Esta imagem \u00e9 armazenada em um sistema de arquivos (pasta) chamada OWS-Cache , de modo que, em futuras requisi\u00e7\u00f5es para uma determinada imagem, \u00e9 verificada se a imagem j\u00e1 existe na OWS-Cache ou n\u00e3o. Caso exista, a imagem \u00e9 retornada na requisi\u00e7\u00e3o, caso n\u00e3o exista, o c\u00f3digo NodeJS envia a requisi\u00e7\u00e3o para o Mapserver processar e ger\u00e1-la, armazenando-a no OWS-Cache . O m\u00e9todo que realiza esta verifica\u00e7\u00e3o \u00e9 o m\u00e9todo OgcServer.ows que faz parte do Controlador da aplica\u00e7\u00e3o em NodeJS. src/controllers/ogc-server.js OgcServer.ows = function(request, response) { var params = Internal.getParams(request); response.setHeader(\"Access-Control-Allow-Origin\", \"*\"); Internal.setHeaders(params, request, response); var cacheKey = Internal.getCacheKey(params); if(cacheKey && (config['cacheEnable'] || Internal.isWmsGetCap(params)) ) { Internal.doRequestWithCache(cacheKey, params, response); } else { Internal.doRequest(params, response); } } Esta customiza\u00e7\u00e3o pode ser encontrada no c\u00f3digo NodeJS no reposit\u00f3rio espec\u00edfico para o c\u00f3digo NodeJS no Github . A configura\u00e7\u00e3o da pasta onde ser\u00e3o gerados os caches \u00e9 feita no arquivo config.js na linha 41 atrav\u00e9s da vari\u00e1vel cacheDir .","title":"Servidor de Mapas"},{"location":"02-arq_servidor_de_mapas.html#servico-de-interoperabilidade","text":"A interoperabilidade \u00e9 uma tecnologia que possibilita o compartilhamento de dados entre sistemas, independente do local f\u00edsico de armazenamento e da tecnologia utilizada em cada servidor de dados. No Geoprocessamento, a interoperabilidade pode ser aplicada para promover o interc\u00e2mbio de dados geogr\u00e1ficos entre diferentes softwares de SIG. O OCG (Open Geospatial Consortium, Inc.) \u00e9 uma organiza\u00e7\u00e3o que tem como objetivo principal viabilizar o interc\u00e2mbio de dados geogr\u00e1ficos atrav\u00e9s da cria\u00e7\u00e3o de especifica\u00e7\u00f5es que simplificam a intera\u00e7\u00e3o entre diferentes fontes de dados. Desta forma, os principais servi\u00e7os especificados pela OGC s\u00e3o: Web Map Service - WMS : produz mapas din\u00e2micos partir de dados georreferenciados em um servidor remoto. Esses mapas s\u00e3o geralmente apresentados no formato de figura (PNG, JPEG ou GIF). Tamb\u00e9m \u00e9 poss\u00edvel consultar os atributos dos elementos que comp\u00f5em os mapas. Web Feature Service - WFS : define um servi\u00e7o para recupera\u00e7\u00e3o de objetos ( features ) espaciais. Diferentemente do WMS, o WFS devolve o dado e n\u00e3o uma \"figura\" do dado. Tile Map Service - TMS : define um servi\u00e7o que fornece imagens de dados geogr\u00e1ficos a partir de URLs para por\u00e7\u00f5es ( tiles ) definidas pelo conjunto de coordenadas {z} {x} {y} do dado georeferenciado. O TMS \u00e9 mais amplamente suportado pelos navegadores Web. UTFGrid : usam uma combina\u00e7\u00e3o de codifica\u00e7\u00e3o JSON e arquivos grid ASCII que est\u00e3o ao lado de cada bloco de imagem do mapa. Desta forma, uma tabela de pesquisa em JSON fornece o conjunto completo de atributos que viabiliza a devolu\u00e7\u00e3o de dados sobre aquele grid, permitindo interatividade com o mapas. Desta forma, uma representa\u00e7\u00e3o visual da interoperabilidade entre servi\u00e7os pode ser encontrada no link e apresentada abaixo. Por fim, a tabela abaixo apresenta os tipos de servi\u00e7os fornecidos pela plataforma de conhecimento do cerrado bem como suas URLs de acesso, onde <ows_host> representa o dom\u00ednio onde o OWS Server est\u00e1 hospedado e <layername> representa a camada configurada no Mapfile: Tipo de Requisi\u00e7\u00e3o Fonte Descri\u00e7\u00e3o URL WMS OWS Server Retorna uma imagem com a legenda da camada ( <layername> ) especificada no mapfile .. https://<ows_host>/ows?TRANSPARENT=TRUE&VERSION=1.1.1&SERVICE=WMS&REQUEST=GetLegendGraphic&layer=<layername>&format=image/png WMS OWS Server Retorna uma imagem com a composi\u00e7\u00e3o de camadas identificadas pelas layers, com o foco no enquadramento para a geometria definida pela fun\u00e7\u00e3o ST_EXTENT do Postgis. Por fim, o par\u00e2metro <sql_applied_on_MSFILTER> especifica a query que dever\u00e1 ser aplicada para filtrar dados em todas as camadas que possuam MSFILTER em sua configura\u00e7\u00e3o no Mapserver. https://<ows_host>/ows?SERVICE=WMS&REQUEST=GetMap&VERSION=1.1.1&layers=<layername1>,<layername2>, ... &bbox=<bounding_box>&TRANSPARENT=TRUE&srs=EPSG:4674&width=768&height=768&format=image/png&styles=&ENHANCE=TRUE&MSFILTER=<sql_applied_on_MSFILTER> TMS OWS Server Retorna uma imagem com a composi\u00e7\u00e3o de camadas identificadas pelas layers, com o foco no enquadramento para a geometria definida pela fun\u00e7\u00e3o ST_EXTENT do Postgis. Por fim, o par\u00e2metro <sql_applied_on_MSFILTER> especifica a query que dever\u00e1 ser aplicada para filtrar dados em todas as camadas que possuam MSFILTER em sua configura\u00e7\u00e3o no Mapserver. https://<ows_host>/ows?layers=<layername>&MSFILTER=<sql_applied_on_MSFILTER>&mode=tile&tile=<{z}>+<{x}>+<{y}>&tilemode=gmap&map.imagetype=png TMS Mapbox Retorna a composi\u00e7\u00e3o do mapa Geopol\u00edtico fornecido pela Mapbox https://api.tiles.mapbox.com/v4/mapbox.light/<{z}>/<{x}>/<{y}>.png?access_token=<chave_de_acesso>. TMS Google Maps Retorna a composi\u00e7\u00e3o de imagens do mapa fornecido pela API do GoogleMaps. https://mt{0-3}.google.com/vt/lyrs=m&x=<{x}>&y=<{y}>&z=<{z}> TMS World Shaded Relief Retorna a composi\u00e7\u00e3o de mapas de Relevo fornecido pelo ArcGis. https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/<{z}>/<{y}>/<{x}> UTFGrid OWS Server Retorna os dados referentes aos atributos definidos na camada fornecida pelo OWS Server para o especificado na requisi\u00e7\u00e3o para o tile {z},{x},{y}. https://<ows_host>/ows?layers=<layername>&MSFILTER=<sql_applied_on_MSFILTER>&mode=tile&tile=<{z}>+<{x}>+<{y}>&tilemode=gmap&map.imagetype=utfgrid","title":"Servi\u00e7o de interoperabilidade"},{"location":"02-arq_servidor_de_mapas.html#processo-de-atualizacao","text":"Um dado geogr\u00e1fico \u00e9 disponbilizado pelo Mapserver como uma camada. Assim como abordado na se\u00e7\u00e3o de servi\u00e7os de interoperabilidade os dados devem estar armazenados em uma pasta de cat\u00e1logo dos dados (pasta catalog) configur\u00e1vel no arquivo config.js atrav\u00e9s da vari\u00e1vel cacheDir . O Mapserver utiliza um arquivo de configura\u00e7\u00e3o para renderiza\u00e7\u00e3o de dados geoespaciais chamado de Mapfile. O principal objetivo do Mapfile \u00e9 definir as camadas que podem ser \"desenhadas\" pelo Mapserver, como ler estes dados (uma vez que eles podem ser vetores ou matrizes) e como renderiz\u00e1-los, definindo cores, s\u00edmbolos, r\u00f3tulos, legendas e etc. Desta forma, o Mapfile inclui informa\u00e7\u00f5es sobre: Quais camadas devem ser renderizadas; Onde est\u00e1 o foco geogr\u00e1fico do mapa; Qual proje\u00e7\u00e3o est\u00e1 sendo usada; Qual o formato gr\u00e1fico de sa\u00edda; Configura\u00e7\u00e3o da legenda e a escala utilizada; A figura abaixo apresenta o Mapfile da camada de Agricultura da Agrosat\u00e9lite presente na plataforma de conhecimento do cerrado. Esta mesma figura pode representar um exemplo pr\u00e1tico para cria\u00e7\u00e3o de um Mapfile com conex\u00e3o com Banco de Dados e assim obter dados em formato vetorial. Portanto, segue a especifica\u00e7\u00e3o de cada item destacado na imagem: Apresenta o nome da camada, bem como a fonte de onde este dado ser\u00e1 carregado. No exemplo este dado \u00e9 acessado pela comunica\u00e7\u00e3o com Postgis devidamente autenticado; Determina o foco do dado para a extens\u00e3o do Cerrado; Apresenta os metadados da camada; Define a proje\u00e7\u00e3o do dado apresentado; Define o tipo do dado apresentado; Cria uma vari\u00e1vel para valida\u00e7\u00e3o e filtragem dos dados por meio do runtime substitution ; Define a estrutura dos dados que s\u00e3o enviados via UTFGrid. Para tal \u00e9 importante definir um identificador \u00fanico (UTFITEM) e os dados a serem enviados atrav\u00e9s da tupla {\"chave_acesso\" : \"coluna_banco_dados\"} em UTFDATA que ir\u00e3o compor o JSON gerado. Define uma classifica\u00e7\u00e3o para os dados a fim de customizar a colora\u00e7\u00e3o de acordo com um crit\u00e9rio. A classifica\u00e7\u00e3o estabelecida tamb\u00e9m ir\u00e1 compor a legenda. Por fim, o Mapfile utilizado para disponibilizar todas as camadas presentes na plataforma de conhecimento do cerrado est\u00e1 na pasta compartilhada do projeto no link .","title":"Processo de atualiza\u00e7\u00e3o"},{"location":"02-arq_servidor_de_mapas.html#disponibilizacao-da-camada-no-application-server","text":"Ap\u00f3s a cria\u00e7\u00e3o da camada no OWS Server, para que esta camada seja apresentada na interface Web da plataforma de conhecimento do cerrado \u00e9 necess\u00e1ria a sua inser\u00e7\u00e3o no Application Server . A fim de facilitar a disponibiliza\u00e7\u00e3o de diversas camadas, foi criada uma estrutura nomeada de descriptor que descreve as principais configura\u00e7\u00f5es de uma camada a ser apresentada na plataforma de conhecimento do cerrado, tais como: filtros de dados, tipos diferentes de camadas e outros. A estrutura completa do descriptor encontra-se no reposit\u00f3rio do projeto no Github, especificamente no arquivo map.js . Segue abaixo as configura\u00e7\u00f5es da camada apresentada acima dentro da estrutura do descriptor. A camada agricultura_agrosatelite representa um dado vetorial no qual \u00e9 poss\u00edvel aplicar diversos filtros. A vari\u00e1vel languageJson representa o acesso ao arquivo .json respons\u00e1vel pela internacionaliza\u00e7\u00e3o da aplica\u00e7\u00e3o, ou seja, apresenta textos em diferentes idiomas de acordo com o valor recebido como par\u00e2metro language . Controller.descriptor = function(request, response) { var language = request.param('lang') var result = { \"regionFilterDefault\": \"bioma='CERRADO'\", \"groups\": [{ \"id\": \"agropecuaria\", \"label\": languageJson[\"title_group_label\"][\"agropecuaria\"][language], \"group_expanded\": false, \"layers\": [{ \"id\": \"mapa_agricultura_agrosatelite\", \"label\": languageJson[\"title_layer_label\"][\"agrosatelite\"][language], \"visible\": false, \"selectedType\": 'agricultura_agrosatelite', \"value\": \"agricultura_agrosatelite\", \"opacity\": 1, \"regionFilter\": true, \"order\": 2, \"typeLabel\": languageJson[\"typelabel_layer\"][\"type\"][language], \"timeLabel\": languageJson[\"typelabel_layer\"][\"year\"][language], \"timeSelected\": \"year=2014\", \"timeHandler\": \"msfilter\", \"times\": [ {\"value\": \"year=2001\", \"Viewvalue\": 2001}, {\"value\": \"year=2007\", \"Viewvalue\": 2007}, {\"value\": \"year=2014\", \"Viewvalue\": 2014} ], \"metadados\": { \"title\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"title\"][language], \"description\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"description\"][language], \"format\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"format\"][language], \"region\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"region\"][language], \"period\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"period\"][language], \"scale\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"scale\"][language], \"system_coordinator\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"system_coordinator\"][language], \"cartographic_projection\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"cartographic_projection\"][language], \"cod_caracter\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"cod_caracter\"][language], \"fonte\": languageJson[\"metadata\"][\"agricultura_agrosatelite\"][\"fonte\"][language], \"contato\":\"lapig.cepf@gmail.com\" }, \"columnsCSV\": \"area_ha, classe, year\", \"downloadSHP\": true, \"downloadCSV\": true } ], \"dataService\": \"/service/charts/farming\" }] }] }; response.send(result); response.end(); }; Os diversos par\u00e2metros setados na vari\u00e1vel result s\u00e3o interpretados pela aplica\u00e7\u00e3o Front-end em Angular, de modo a criar a interface apresentada na imagem abaixo. Dentre estes par\u00e2metros, destaca-se o layers que ir\u00e3o indicar quais camadas estar\u00e3o no card Agropecu\u00e1ria . No exemplo acima, est\u00e1 selecionada a camada agricultura_agrosatelite atrav\u00e9s da vari\u00e1vel selectedType . Por fim, destaca-se o vetor do par\u00e2metro times , que apresenta diversos filtros que podem ser aplicados em um tipo de layer espec\u00edfico. No exemplo acima, ele \u00e9 utilizado para filtrar o dado por ano, aplicando a query apresentada em value (de cada filtro) como par\u00e2metro MSFILTER na camada descrita no Mapserver.","title":"Disponibiliza\u00e7\u00e3o da camada no Application Server"},{"location":"03-dad_vetoriais.html","text":"Banco de dados Na plataforma de conhecimento do cerrado todos os dados est\u00e3o armazenados em um banco de dados PostgreSQL. O \u00faltimo backup deste banco pode ser encontrado no link no arquivo BACKUP-LAPIG-POSTGRES.tar.gz . Processo de atualiza\u00e7\u00e3o Diversos dados presentes na plataforma de conhecimento do cerrado s\u00e3o periodicamente atualizados pelas institui\u00e7\u00f5es competentes. Desta forma, a medida que os mesmos s\u00e3o atualizados e disponibilizados pelas institui\u00e7\u00f5es tamb\u00e9m \u00e9 necess\u00e1rio realizar a atualiza\u00e7\u00e3o no banco de dados da plataforma de conhecimento do cerrado. Os comandos a seguir foram todos desenvolvidos na linguagem sql , portanto podem ser executados em qualquer ambiente que realize a conex\u00e3o com PostgreSQL, tais como o pgAdmin ou o pr\u00f3prio ambiente nativo conhecido como psql . A fim de facilitar, pode-se criar um arquivo de extens\u00e3o .sql e execut\u00e1-lo da seguinte forma: psql \"dbname='<db_name>' user='<db_user>' password='<db_pwd>' host='<db_host'\" -f <path_to_>/yourFileName.sql Inserindo um Shapefile novo: shp2pgsql -s 4674 -W \"UTF-8\" nome_arquivo.shp public.exemplo_tabela | psql -h <host_address> -U <db_user> -d <db_name> O comando acima importa os dados do Shapefile nome_arquivo.shp em uma tabela nomeada exemplo_tabela . Script utilizado para inserir dados raster: O Script para inser\u00e7\u00e3o de dados rasters pode ser acessado por meio do link . Para inser\u00e7\u00e3o de um dado raster \u00e9 necessa\u0155io um shp com a regi\u00e3o desejada a inserir, para que os recortes sejam realizados. Todos os dados do banco foram inseridos com base em um regions.shp que possui todos os recortes dos estados e munic\u00edpios do Cerrado. Dessa forma o dado \u00e9 inserido no banco de dados j\u00e1 com os recortes por regi\u00f5es. O script deve ser ajustado conforme a necessidade, ele \u00e9 apenas um exemplo para se basear.","title":"Banco de Dados"},{"location":"03-dad_vetoriais.html#banco-de-dados","text":"Na plataforma de conhecimento do cerrado todos os dados est\u00e3o armazenados em um banco de dados PostgreSQL. O \u00faltimo backup deste banco pode ser encontrado no link no arquivo BACKUP-LAPIG-POSTGRES.tar.gz .","title":"Banco de dados"},{"location":"03-dad_vetoriais.html#processo-de-atualizacao","text":"Diversos dados presentes na plataforma de conhecimento do cerrado s\u00e3o periodicamente atualizados pelas institui\u00e7\u00f5es competentes. Desta forma, a medida que os mesmos s\u00e3o atualizados e disponibilizados pelas institui\u00e7\u00f5es tamb\u00e9m \u00e9 necess\u00e1rio realizar a atualiza\u00e7\u00e3o no banco de dados da plataforma de conhecimento do cerrado. Os comandos a seguir foram todos desenvolvidos na linguagem sql , portanto podem ser executados em qualquer ambiente que realize a conex\u00e3o com PostgreSQL, tais como o pgAdmin ou o pr\u00f3prio ambiente nativo conhecido como psql . A fim de facilitar, pode-se criar um arquivo de extens\u00e3o .sql e execut\u00e1-lo da seguinte forma: psql \"dbname='<db_name>' user='<db_user>' password='<db_pwd>' host='<db_host'\" -f <path_to_>/yourFileName.sql","title":"Processo de atualiza\u00e7\u00e3o"},{"location":"03-dad_vetoriais.html#inserindo-um-shapefile-novo","text":"shp2pgsql -s 4674 -W \"UTF-8\" nome_arquivo.shp public.exemplo_tabela | psql -h <host_address> -U <db_user> -d <db_name> O comando acima importa os dados do Shapefile nome_arquivo.shp em uma tabela nomeada exemplo_tabela .","title":"Inserindo um Shapefile novo:"},{"location":"03-dad_vetoriais.html#script-utilizado-para-inserir-dados-raster","text":"O Script para inser\u00e7\u00e3o de dados rasters pode ser acessado por meio do link . Para inser\u00e7\u00e3o de um dado raster \u00e9 necessa\u0155io um shp com a regi\u00e3o desejada a inserir, para que os recortes sejam realizados. Todos os dados do banco foram inseridos com base em um regions.shp que possui todos os recortes dos estados e munic\u00edpios do Cerrado. Dessa forma o dado \u00e9 inserido no banco de dados j\u00e1 com os recortes por regi\u00f5es. O script deve ser ajustado conforme a necessidade, ele \u00e9 apenas um exemplo para se basear.","title":"Script utilizado para inserir dados raster:"}]}